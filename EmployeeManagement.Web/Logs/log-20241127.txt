2024-11-27T15:16:41.6374801+01:00  [INF] User profile is available. Using '"C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-11-27T15:16:41.8988931+01:00  [INF] Now listening on: "https://localhost:7025" (d826f4b8)
2024-11-27T15:16:41.8990798+01:00  [INF] Now listening on: "http://localhost:5222" (d826f4b8)
2024-11-27T15:16:41.9286814+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-11-27T15:16:41.9290117+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-11-27T15:16:41.9290334+01:00  [INF] Content root path: "C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web" (cc26f24e)
2024-11-27T15:16:42.4523457+01:00 0HN8ETOER3CAE:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - null null (d509f86a)
2024-11-27T15:16:42.6277928+01:00 0HN8ETOER3CAE:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - 404 0 null 184.1356ms (74253ad3)
2024-11-27T15:16:42.6301903+01:00 0HN8ETOER3CAE:00000001 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7025""""/index.html", Response status code: 404 (e353595a)
2024-11-27T15:16:45.0901544+01:00 0HN8ETOER3CAE:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:16:45.1041309+01:00 0HN8ETOER3CAE:00000003 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:16:45.1144256+01:00 0HN8ETOER3CAE:00000003 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:16:45.2448892+01:00 0HN8ETOER3CAE:00000003 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:16:45.2694008+01:00 0HN8ETOER3CAE:00000003 [INF] Executed ViewResult - view "Acceuil" executed in 24.754ms. (f66409e9)
2024-11-27T15:16:45.2699293+01:00 0HN8ETOER3CAE:00000003 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 155.1763ms (afa2e885)
2024-11-27T15:16:45.2700009+01:00 0HN8ETOER3CAE:00000003 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:16:45.2719895+01:00 0HN8ETOER3CAE:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 182.4466ms (74253ad3)
2024-11-27T15:16:45.3041204+01:00 0HN8ETOER3CAE:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/Acceuil.css""" - null null (d509f86a)
2024-11-27T15:16:45.3051288+01:00 0HN8ETOER3CAE:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:16:45.3052439+01:00 0HN8ETOER3CAE:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/images/HCP1.jpeg""" - null null (d509f86a)
2024-11-27T15:16:45.3051288+01:00 0HN8ETOER3CAE:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:16:45.3090000+01:00 0HN8ETOER3CAE:00000009 [INF] The file "/images/HCP1.jpeg" was not modified (f1f8d725)
2024-11-27T15:16:45.3090040+01:00 0HN8ETOER3CAE:00000005 [INF] The file "/css/Acceuil.css" was not modified (f1f8d725)
2024-11-27T15:16:45.3094310+01:00 0HN8ETOER3CAE:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/images/HCP1.jpeg""" - 304 null "image/jpeg" 4.8602ms (74253ad3)
2024-11-27T15:16:45.3094573+01:00 0HN8ETOER3CAE:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/Acceuil.css""" - 304 null "text/css" 5.6985ms (74253ad3)
2024-11-27T15:16:45.3212383+01:00 0HN8ETOER3CAE:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 16.2879ms (74253ad3)
2024-11-27T15:16:45.3376636+01:00 0HN8ETOER3CAE:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 32.9683ms (74253ad3)
2024-11-27T15:16:46.3866104+01:00 0HN8ETOER3CAE:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:16:46.3947022+01:00 0HN8ETOER3CAE:0000000D [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:16:46.3961586+01:00 0HN8ETOER3CAE:0000000D [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:16:46.4036663+01:00 0HN8ETOER3CAE:0000000D [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:16:46.4096252+01:00 0HN8ETOER3CAE:0000000D [INF] Executed ViewResult - view "Login" executed in 6.531ms. (f66409e9)
2024-11-27T15:16:46.4097731+01:00 0HN8ETOER3CAE:0000000D [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 13.5698ms (afa2e885)
2024-11-27T15:16:46.4098022+01:00 0HN8ETOER3CAE:0000000D [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:16:46.4099209+01:00 0HN8ETOER3CAE:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 23.5817ms (74253ad3)
2024-11-27T15:16:46.4458670+01:00 0HN8ETOER3CAE:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:16:46.4470082+01:00 0HN8ETOER3CAE:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:16:46.4473006+01:00 0HN8ETOER3CAE:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/Login.css""" - null null (d509f86a)
2024-11-27T15:16:46.4477647+01:00 0HN8ETOER3CAE:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 2.0439ms (74253ad3)
2024-11-27T15:16:46.4487436+01:00 0HN8ETOER3CAE:00000013 [INF] The file "/css/Login.css" was not modified (f1f8d725)
2024-11-27T15:16:46.4491823+01:00 0HN8ETOER3CAE:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/Login.css""" - 304 null "text/css" 2.1102ms (74253ad3)
2024-11-27T15:16:46.4713683+01:00 0HN8ETOER3CAE:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 24.5042ms (74253ad3)
2024-11-27T15:16:47.6583020+01:00 0HN8ETOER3CAE:00000015 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 31 (d509f86a)
2024-11-27T15:16:47.6617104+01:00 0HN8ETOER3CAE:00000015 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:16:47.6746456+01:00 0HN8ETOER3CAE:00000015 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:16:48.5226679+01:00 0HN8ETOER3CAE:00000015 [INF] Executed DbCommand ("39"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:16:48.5892606+01:00 0HN8ETOER3CAE:00000015 [INF] Executed DbCommand ("3"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:16:48.5940784+01:00 0HN8ETOER3CAE:00000015 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:16:48.6060009+01:00 0HN8ETOER3CAE:00000015 [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:16:48.6065609+01:00 0HN8ETOER3CAE:00000015 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 931.9131ms (afa2e885)
2024-11-27T15:16:48.6067169+01:00 0HN8ETOER3CAE:00000015 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:16:48.6102983+01:00 0HN8ETOER3CAE:00000015 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 952.344ms (74253ad3)
2024-11-27T15:16:48.6109094+01:00 0HN8ETOER3CAE:00000017 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:16:48.6160578+01:00 0HN8ETOER3CAE:00000017 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:16:48.6182572+01:00 0HN8ETOER3CAE:00000017 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:16:48.7003107+01:00 0HN8ETOER3CAE:00000017 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:16:48.7271429+01:00 0HN8ETOER3CAE:00000017 [INF] Executed DbCommand ("15"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:16:48.8270760+01:00 0HN8ETOER3CAE:00000017 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:16:48.8319551+01:00 0HN8ETOER3CAE:00000017 [INF] Executed ViewResult - view "DemandesListRequester" executed in 5.1398ms. (f66409e9)
2024-11-27T15:16:48.8320556+01:00 0HN8ETOER3CAE:00000017 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 213.7443ms (afa2e885)
2024-11-27T15:16:48.8320913+01:00 0HN8ETOER3CAE:00000017 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:16:48.8324445+01:00 0HN8ETOER3CAE:00000017 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:16:48.8326072+01:00 0HN8ETOER3CAE:00000017 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:16:48.8327886+01:00 0HN8ETOER3CAE:00000017 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 221.9436ms (74253ad3)
2024-11-27T15:16:48.8588468+01:00 0HN8ETOER3CAE:00000019 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/DemandesListRequester.css""" - null null (d509f86a)
2024-11-27T15:16:48.8591440+01:00 0HN8ETOER3CAE:00000019 [INF] The file "/css/DemandesListRequester.css" was not modified (f1f8d725)
2024-11-27T15:16:48.8592203+01:00 0HN8ETOER3CAE:00000019 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/DemandesListRequester.css""" - 304 null "text/css" 0.8292ms (74253ad3)
2024-11-27T15:16:54.4606093+01:00 0HN8ETOER3CAE:0000001B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - null null (d509f86a)
2024-11-27T15:16:54.4666196+01:00 0HN8ETOER3CAE:0000001B [INF] Executing endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (500cc934)
2024-11-27T15:16:54.4681103+01:00 0HN8ETOER3CAE:0000001B [INF] Route matched with "{action = \"CreateDemande\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult CreateDemande()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:16:54.5218602+01:00 0HN8ETOER3CAE:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Name]
FROM (
    SELECT DISTINCT [p].[Id], [p].[CreatedBy], [p].[CreatedDate], [p].[IsDeleted], [p].[ModifiedBy], [p].[ModifiedDate], [p].[Name]
    FROM [Produits] AS [p]
) AS [t]" (0723d8ff)
2024-11-27T15:16:54.5238267+01:00 0HN8ETOER3CAE:0000001B [INF] Executing ViewResult, running view "CreateDemande". (c83d0e25)
2024-11-27T15:16:54.5282413+01:00 0HN8ETOER3CAE:0000001B [INF] Executed ViewResult - view "CreateDemande" executed in 4.7915ms. (f66409e9)
2024-11-27T15:16:54.5283444+01:00 0HN8ETOER3CAE:0000001B [INF] Executed action "DemandesController.CreateDemande (StockManagement.Web)" in 60.1526ms (afa2e885)
2024-11-27T15:16:54.5283803+01:00 0HN8ETOER3CAE:0000001B [INF] Executed endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (99874f2b)
2024-11-27T15:16:54.5284438+01:00 0HN8ETOER3CAE:0000001B [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:16:54.5284753+01:00 0HN8ETOER3CAE:0000001B [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:16:54.5286283+01:00 0HN8ETOER3CAE:0000001B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - 200 null "text/html; charset=utf-8" 68.2515ms (74253ad3)
2024-11-27T15:16:54.5421978+01:00 0HN8ETOER3CAE:0000001D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/CreateDemande.css""" - null null (d509f86a)
2024-11-27T15:16:54.5426880+01:00 0HN8ETOER3CAE:0000001D [INF] The file "/css/CreateDemande.css" was not modified (f1f8d725)
2024-11-27T15:16:54.5429007+01:00 0HN8ETOER3CAE:0000001D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/CreateDemande.css""" - 304 null "text/css" 1.0175ms (74253ad3)
2024-11-27T15:16:59.7114170+01:00 0HN8ETOER3CAE:0000001F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - "application/x-www-form-urlencoded" 420 (d509f86a)
2024-11-27T15:16:59.7148120+01:00 0HN8ETOER3CAE:0000001F [INF] Executing endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (500cc934)
2024-11-27T15:16:59.7186389+01:00 0HN8ETOER3CAE:0000001F [INF] Route matched with "{action = \"CreateDemande\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDemande(StockManagement.Application.Features.Demandes.DTOs.CreateDemandeDTO)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:16:59.7554972+01:00 0HN8ETOER3CAE:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentYear_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Demandes] AS [d]
WHERE [d].[CreatedDate] IS NOT NULL AND DATEPART(year, [d].[CreatedDate]) = @__currentYear_0" (0723d8ff)
2024-11-27T15:16:59.7640672+01:00 0HN8ETOER3CAE:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[StatusName]
FROM [StatusDemandes] AS [s]
WHERE [s].[StatusName] = N'En cours de traitement'" (0723d8ff)
2024-11-27T15:16:59.8574653+01:00 0HN8ETOER3CAE:0000001F [INF] Executed DbCommand ("9"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Guid), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (Size = 4000), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Guid), @p22='?' (DbType = Boolean), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Demandes] ([Id], [CreatedBy], [CreatedDate], [DemandeNumber], [IsDeleted], [ModifiedBy], [ModifiedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [DemandeProduits] ([Id], [CreatedBy], [CreatedDate], [DemandeId], [IsDeleted], [Livré], [ModifiedBy], [ModifiedDate], [ProduitId], [Quantité])
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO [HistoriqueStatusDemandes] ([Id], [CreatedBy], [CreatedDate], [DemandeId], [IsDeleted], [ModifiedBy], [ModifiedDate], [StatusDemandeId])
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);" (0723d8ff)
2024-11-27T15:16:59.8701424+01:00 0HN8ETOER3CAE:0000001F [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:16:59.8702495+01:00 0HN8ETOER3CAE:0000001F [INF] Executed action "DemandesController.CreateDemande (StockManagement.Web)" in 151.5642ms (afa2e885)
2024-11-27T15:16:59.8702714+01:00 0HN8ETOER3CAE:0000001F [INF] Executed endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (99874f2b)
2024-11-27T15:16:59.8704132+01:00 0HN8ETOER3CAE:0000001F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - 302 0 null 159.286ms (74253ad3)
2024-11-27T15:16:59.8729726+01:00 0HN8ETOER3CAE:00000021 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:16:59.8742442+01:00 0HN8ETOER3CAE:00000021 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:16:59.8744135+01:00 0HN8ETOER3CAE:00000021 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:16:59.8789233+01:00 0HN8ETOER3CAE:00000021 [INF] Executed DbCommand ("2"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:16:59.8802721+01:00 0HN8ETOER3CAE:00000021 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:16:59.8813083+01:00 0HN8ETOER3CAE:00000021 [INF] Executed ViewResult - view "DemandesListRequester" executed in 1.2526ms. (f66409e9)
2024-11-27T15:16:59.8813773+01:00 0HN8ETOER3CAE:00000021 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 6.9198ms (afa2e885)
2024-11-27T15:16:59.8814227+01:00 0HN8ETOER3CAE:00000021 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:16:59.8814867+01:00 0HN8ETOER3CAE:00000021 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:16:59.8815129+01:00 0HN8ETOER3CAE:00000021 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:16:59.8816817+01:00 0HN8ETOER3CAE:00000021 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 8.8685ms (74253ad3)
2024-11-27T15:17:04.4454658+01:00 0HN8ETOER3CAE:00000023 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/export""" - null null (d509f86a)
2024-11-27T15:17:04.4470296+01:00 0HN8ETOER3CAE:00000023 [INF] Executing endpoint '"DemandesController.Export (StockManagement.Web)"' (500cc934)
2024-11-27T15:17:04.4515239+01:00 0HN8ETOER3CAE:00000023 [INF] Route matched with "{action = \"Export\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Export()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:17:04.4604968+01:00 0HN8ETOER3CAE:00000023 [INF] Executed DbCommand ("4"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:17:05.0150951+01:00 0HN8ETOER3CAE:00000023 [INF] Executing "FileContentResult", sending file with download name '"Demandes.xlsx"' ... (3ade02d2)
2024-11-27T15:17:05.0186533+01:00 0HN8ETOER3CAE:00000023 [INF] Executed action "DemandesController.Export (StockManagement.Web)" in 567.0082ms (afa2e885)
2024-11-27T15:17:05.0186867+01:00 0HN8ETOER3CAE:00000023 [INF] Executed endpoint '"DemandesController.Export (StockManagement.Web)"' (99874f2b)
2024-11-27T15:17:05.0188062+01:00 0HN8ETOER3CAE:00000023 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/export""" - 200 3113 "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" 573.6632ms (74253ad3)
2024-11-27T15:17:22.1454084+01:00 0HN8ETOER3CAE:00000025 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - null null (d509f86a)
2024-11-27T15:17:22.1481122+01:00 0HN8ETOER3CAE:00000025 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:17:22.1557020+01:00 0HN8ETOER3CAE:00000025 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:17:22.1950966+01:00 0HN8ETOER3CAE:00000025 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:17:22.2108137+01:00 0HN8ETOER3CAE:00000025 [INF] Executed DbCommand ("8"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:17:22.2623268+01:00 0HN8ETOER3CAE:00000025 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 106.542ms (afa2e885)
2024-11-27T15:17:22.2628234+01:00 0HN8ETOER3CAE:00000025 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:17:22.2842523+01:00 0HN8ETOER3CAE:00000025 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.AggregateException: One or more errors occurred. (Value cannot be null. (Parameter '/Views/Demandes/DemandePDF.cshtml introuvable.'))
 ---> System.ArgumentNullException: Value cannot be null. (Parameter '/Views/Demandes/DemandePDF.cshtml introuvable.')
   at StockManagement.Web.Services.RazorViewToStringRenderer.RenderViewToStringAsync(String viewName, Object model) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Services\RazorViewToStringRenderer.cs:line 36
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at StockManagement.Web.Services.PdfService.GenerateDemandePdf(GetDemandeByIdResponseDTO demande) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Services\PdfService.cs:line 69
   at DemandesController.ExportDemandeToPdf(Guid demandeId) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Controllers\DemandesController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-27T15:17:22.3449728+01:00 0HN8ETOER3CAE:00000025 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - 500 null "text/html; charset=utf-8" 199.7377ms (74253ad3)
2024-11-27T15:17:22.3748434+01:00 0HN8ETOER3CAE:00000029 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:17:22.3748580+01:00 0HN8ETOER3CAE:00000027 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:17:22.3755897+01:00 0HN8ETOER3CAE:00000027 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 0.9805ms (74253ad3)
2024-11-27T15:17:22.3820482+01:00 0HN8ETOER3CAE:00000029 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 7.4583ms (74253ad3)
2024-11-27T15:18:27.9507229+01:00 0HN8ETOER3CAE:0000002B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - null null (d509f86a)
2024-11-27T15:18:27.9579586+01:00 0HN8ETOER3CAE:0000002B [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:18:27.9580377+01:00 0HN8ETOER3CAE:0000002B [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:18:47.7957730+01:00 0HN8ETOER3CAE:0000002B [INF] Executed DbCommand ("17"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:19:16.6067771+01:00 0HN8ETOER3CAE:0000002B [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 48651.4169ms (afa2e885)
2024-11-27T15:19:16.6069895+01:00 0HN8ETOER3CAE:0000002B [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:19:16.6080025+01:00 0HN8ETOER3CAE:0000002B [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.AggregateException: One or more errors occurred. (Value cannot be null. (Parameter '/Views/Demandes/DemandePDF.cshtml introuvable.'))
 ---> System.ArgumentNullException: Value cannot be null. (Parameter '/Views/Demandes/DemandePDF.cshtml introuvable.')
   at StockManagement.Web.Services.RazorViewToStringRenderer.RenderViewToStringAsync(String viewName, Object model) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Services\RazorViewToStringRenderer.cs:line 36
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at StockManagement.Web.Services.PdfService.GenerateDemandePdf(GetDemandeByIdResponseDTO demande) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Services\PdfService.cs:line 69
   at DemandesController.ExportDemandeToPdf(Guid demandeId) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Controllers\DemandesController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-27T15:19:16.6150577+01:00 0HN8ETOER3CAE:0000002B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - 500 null "text/html; charset=utf-8" 48667.1436ms (74253ad3)
2024-11-27T15:19:16.6681678+01:00 0HN8ETOER3CAE:0000002D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:19:16.6692979+01:00 0HN8ETOER3CAE:0000002F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:19:16.6708794+01:00 0HN8ETOER3CAE:0000002F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.5271ms (74253ad3)
2024-11-27T15:19:16.7064461+01:00 0HN8ETOER3CAE:0000002D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 38.3174ms (74253ad3)
2024-11-27T15:19:35.6607763+01:00 0HN8ETOER3CAE:00000031 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - null null (d509f86a)
2024-11-27T15:19:35.6709972+01:00 0HN8ETOER3CAE:00000031 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:19:35.6710996+01:00 0HN8ETOER3CAE:00000031 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:19:35.6910309+01:00 0HN8ETOER3CAE:00000031 [INF] Executed DbCommand ("18"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:20:09.6747144+01:00 0HN8ETOER3CAE:00000031 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 34003.8597ms (afa2e885)
2024-11-27T15:20:09.6748543+01:00 0HN8ETOER3CAE:00000031 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:20:09.6757227+01:00 0HN8ETOER3CAE:00000031 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.AggregateException: One or more errors occurred. (Value cannot be null. (Parameter '/Views/Demandes/DemandePDF.cshtml introuvable.'))
 ---> System.ArgumentNullException: Value cannot be null. (Parameter '/Views/Demandes/DemandePDF.cshtml introuvable.')
   at StockManagement.Web.Services.RazorViewToStringRenderer.RenderViewToStringAsync(String viewName, Object model) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Services\RazorViewToStringRenderer.cs:line 36
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at StockManagement.Web.Services.PdfService.GenerateDemandePdf(GetDemandeByIdResponseDTO demande) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Services\PdfService.cs:line 69
   at DemandesController.ExportDemandeToPdf(Guid demandeId) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Controllers\DemandesController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-27T15:20:09.6785266+01:00 0HN8ETOER3CAE:00000031 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - 500 null "text/html; charset=utf-8" 34018.1619ms (74253ad3)
2024-11-27T15:20:09.7277463+01:00 0HN8ETOER3CAE:00000033 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:20:09.7332551+01:00 0HN8ETOER3CAE:00000033 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 5.5962ms (74253ad3)
2024-11-27T15:20:09.7393737+01:00 0HN8ETOER3CAE:00000035 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:20:09.7419951+01:00 0HN8ETOER3CAE:00000035 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.885ms (74253ad3)
2024-11-27T15:23:30.9450314+01:00  [INF] User profile is available. Using '"C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-11-27T15:23:31.1204291+01:00  [INF] Now listening on: "https://localhost:7025" (d826f4b8)
2024-11-27T15:23:31.1206077+01:00  [INF] Now listening on: "http://localhost:5222" (d826f4b8)
2024-11-27T15:23:31.1479035+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-11-27T15:23:31.1481619+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-11-27T15:23:31.1481811+01:00  [INF] Content root path: "C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web" (cc26f24e)
2024-11-27T15:23:31.4133419+01:00 0HN8ETS8PT26F:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - null null (d509f86a)
2024-11-27T15:23:31.5322355+01:00 0HN8ETS8PT26F:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - 404 0 null 123.4244ms (74253ad3)
2024-11-27T15:23:31.5331716+01:00 0HN8ETS8PT26F:00000001 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7025""""/index.html", Response status code: 404 (e353595a)
2024-11-27T15:23:34.3405672+01:00 0HN8ETS8PT26F:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:23:34.3538965+01:00 0HN8ETS8PT26F:00000003 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:23:34.3687273+01:00 0HN8ETS8PT26F:00000003 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:23:34.4782023+01:00 0HN8ETS8PT26F:00000003 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:23:34.4985691+01:00 0HN8ETS8PT26F:00000003 [INF] Executed ViewResult - view "Acceuil" executed in 21.3439ms. (f66409e9)
2024-11-27T15:23:34.4990648+01:00 0HN8ETS8PT26F:00000003 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 129.9156ms (afa2e885)
2024-11-27T15:23:34.4991347+01:00 0HN8ETS8PT26F:00000003 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:23:34.5011218+01:00 0HN8ETS8PT26F:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 160.8531ms (74253ad3)
2024-11-27T15:23:34.5348496+01:00 0HN8ETS8PT26F:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:23:34.5348993+01:00 0HN8ETS8PT26F:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:23:34.5470442+01:00 0HN8ETS8PT26F:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 12.8122ms (74253ad3)
2024-11-27T15:23:34.5665828+01:00 0HN8ETS8PT26F:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 31.9405ms (74253ad3)
2024-11-27T15:23:35.7616990+01:00 0HN8ETS8PT26F:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:23:35.7683765+01:00 0HN8ETS8PT26F:00000009 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:23:35.7707275+01:00 0HN8ETS8PT26F:00000009 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:23:35.7763827+01:00 0HN8ETS8PT26F:00000009 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:23:35.7812346+01:00 0HN8ETS8PT26F:00000009 [INF] Executed ViewResult - view "Login" executed in 5.3253ms. (f66409e9)
2024-11-27T15:23:35.7813821+01:00 0HN8ETS8PT26F:00000009 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 10.5839ms (afa2e885)
2024-11-27T15:23:35.7814096+01:00 0HN8ETS8PT26F:00000009 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:23:35.7815348+01:00 0HN8ETS8PT26F:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 20.4487ms (74253ad3)
2024-11-27T15:23:35.8046911+01:00 0HN8ETS8PT26F:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:23:35.8046782+01:00 0HN8ETS8PT26F:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:23:35.8060677+01:00 0HN8ETS8PT26F:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.27ms (74253ad3)
2024-11-27T15:23:35.8219205+01:00 0HN8ETS8PT26F:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 17.4954ms (74253ad3)
2024-11-27T15:23:36.9347434+01:00 0HN8ETS8PT26F:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 31 (d509f86a)
2024-11-27T15:23:36.9389043+01:00 0HN8ETS8PT26F:0000000F [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:23:36.9549457+01:00 0HN8ETS8PT26F:0000000F [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:23:37.7446681+01:00 0HN8ETS8PT26F:0000000F [INF] Executed DbCommand ("37"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:23:37.8150615+01:00 0HN8ETS8PT26F:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:23:37.8184070+01:00 0HN8ETS8PT26F:0000000F [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:23:37.8280471+01:00 0HN8ETS8PT26F:0000000F [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:23:37.8285595+01:00 0HN8ETS8PT26F:0000000F [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 873.5477ms (afa2e885)
2024-11-27T15:23:37.8287073+01:00 0HN8ETS8PT26F:0000000F [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:23:37.8319928+01:00 0HN8ETS8PT26F:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 897.5287ms (74253ad3)
2024-11-27T15:23:37.8327218+01:00 0HN8ETS8PT26F:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:23:37.8383856+01:00 0HN8ETS8PT26F:00000011 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:23:37.8405584+01:00 0HN8ETS8PT26F:00000011 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:23:37.9320966+01:00 0HN8ETS8PT26F:00000011 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:23:37.9584907+01:00 0HN8ETS8PT26F:00000011 [INF] Executed DbCommand ("15"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:23:38.0477339+01:00 0HN8ETS8PT26F:00000011 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:23:38.0524167+01:00 0HN8ETS8PT26F:00000011 [INF] Executed ViewResult - view "DemandesListRequester" executed in 4.9185ms. (f66409e9)
2024-11-27T15:23:38.0524810+01:00 0HN8ETS8PT26F:00000011 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 211.8766ms (afa2e885)
2024-11-27T15:23:38.0525072+01:00 0HN8ETS8PT26F:00000011 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:23:38.0527981+01:00 0HN8ETS8PT26F:00000011 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:23:38.0529471+01:00 0HN8ETS8PT26F:00000011 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:23:38.0530901+01:00 0HN8ETS8PT26F:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 220.6693ms (74253ad3)
2024-11-27T15:23:40.6573875+01:00 0HN8ETS8PT26F:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - null null (d509f86a)
2024-11-27T15:23:40.6598004+01:00 0HN8ETS8PT26F:00000013 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:23:40.6622447+01:00 0HN8ETS8PT26F:00000013 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:23:40.7195489+01:00 0HN8ETS8PT26F:00000013 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:23:40.7365222+01:00 0HN8ETS8PT26F:00000013 [INF] Executed DbCommand ("9"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:24:16.1026624+01:00 0HN8ETS8PT26F:00000013 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 35440.3114ms (afa2e885)
2024-11-27T15:24:16.1029392+01:00 0HN8ETS8PT26F:00000013 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:24:16.1259777+01:00 0HN8ETS8PT26F:00000013 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.AggregateException: One or more errors occurred. (Cannot resolve scoped service 'Microsoft.AspNetCore.Mvc.ViewFeatures.Buffers.IViewBufferScope' from root provider.)
 ---> System.InvalidOperationException: Cannot resolve scoped service 'Microsoft.AspNetCore.Mvc.ViewFeatures.Buffers.IViewBufferScope' from root provider.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at StockManagement.Web.Services.RazorViewToStringRenderer.RenderViewToStringAsync(String viewName, Object model) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Services\RazorViewToStringRenderer.cs:line 54
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at StockManagement.Web.Services.PdfService.GenerateDemandePdf(GetDemandeByIdResponseDTO demande) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Services\PdfService.cs:line 69
   at DemandesController.ExportDemandeToPdf(Guid demandeId) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Controllers\DemandesController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-27T15:24:16.1772270+01:00 0HN8ETS8PT26F:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - 500 null "text/html; charset=utf-8" 35501.3218ms (74253ad3)
2024-11-27T15:24:16.1986978+01:00 0HN8ETS8PT26F:00000015 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:24:16.2011486+01:00 0HN8ETS8PT26F:00000017 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:24:16.2019885+01:00 0HN8ETS8PT26F:00000017 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.2509ms (74253ad3)
2024-11-27T15:24:16.2087865+01:00 0HN8ETS8PT26F:00000015 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 10.327ms (74253ad3)
2024-11-27T15:26:23.4396631+01:00  [INF] User profile is available. Using '"C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-11-27T15:26:23.6101650+01:00  [INF] Now listening on: "https://localhost:7025" (d826f4b8)
2024-11-27T15:26:23.6102815+01:00  [INF] Now listening on: "http://localhost:5222" (d826f4b8)
2024-11-27T15:26:23.6385786+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-11-27T15:26:23.6390311+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-11-27T15:26:23.6391075+01:00  [INF] Content root path: "C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web" (cc26f24e)
2024-11-27T15:26:24.0492531+01:00 0HN8ETTS87RI2:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - null null (d509f86a)
2024-11-27T15:26:24.1619769+01:00 0HN8ETTS87RI2:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - 404 0 null 115.8388ms (74253ad3)
2024-11-27T15:26:24.1630635+01:00 0HN8ETTS87RI2:00000001 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7025""""/index.html", Response status code: 404 (e353595a)
2024-11-27T15:26:26.8437734+01:00 0HN8ETTS87RI2:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:26:26.8526701+01:00 0HN8ETTS87RI2:00000003 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:26:26.8604225+01:00 0HN8ETTS87RI2:00000003 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:26:27.0029437+01:00 0HN8ETTS87RI2:00000003 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:26:27.0238014+01:00 0HN8ETTS87RI2:00000003 [INF] Executed ViewResult - view "Acceuil" executed in 21.4601ms. (f66409e9)
2024-11-27T15:26:27.0243385+01:00 0HN8ETTS87RI2:00000003 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 163.5308ms (afa2e885)
2024-11-27T15:26:27.0244038+01:00 0HN8ETTS87RI2:00000003 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:26:27.0264054+01:00 0HN8ETTS87RI2:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 182.7328ms (74253ad3)
2024-11-27T15:26:27.0563506+01:00 0HN8ETTS87RI2:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:26:27.0565823+01:00 0HN8ETTS87RI2:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:26:27.0700247+01:00 0HN8ETTS87RI2:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 13.8144ms (74253ad3)
2024-11-27T15:26:27.0882927+01:00 0HN8ETTS87RI2:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 31.8697ms (74253ad3)
2024-11-27T15:26:29.0059823+01:00 0HN8ETTS87RI2:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:26:29.0118498+01:00 0HN8ETTS87RI2:00000009 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:26:29.0154738+01:00 0HN8ETTS87RI2:00000009 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:26:29.0202298+01:00 0HN8ETTS87RI2:00000009 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:26:29.0258298+01:00 0HN8ETTS87RI2:00000009 [INF] Executed ViewResult - view "Login" executed in 6.0533ms. (f66409e9)
2024-11-27T15:26:29.0260341+01:00 0HN8ETTS87RI2:00000009 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 10.4751ms (afa2e885)
2024-11-27T15:26:29.0260818+01:00 0HN8ETTS87RI2:00000009 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:26:29.0263205+01:00 0HN8ETTS87RI2:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 20.55ms (74253ad3)
2024-11-27T15:26:29.0568843+01:00 0HN8ETTS87RI2:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:26:29.0568633+01:00 0HN8ETTS87RI2:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:26:29.0577581+01:00 0HN8ETTS87RI2:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.0831ms (74253ad3)
2024-11-27T15:26:29.0758866+01:00 0HN8ETTS87RI2:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 19.1858ms (74253ad3)
2024-11-27T15:26:30.2484710+01:00 0HN8ETTS87RI2:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 31 (d509f86a)
2024-11-27T15:26:30.2524652+01:00 0HN8ETTS87RI2:0000000F [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:26:30.2694132+01:00 0HN8ETTS87RI2:0000000F [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:26:31.0756104+01:00 0HN8ETTS87RI2:0000000F [INF] Executed DbCommand ("39"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:26:31.1425285+01:00 0HN8ETTS87RI2:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:26:31.1464531+01:00 0HN8ETTS87RI2:0000000F [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:26:31.1559412+01:00 0HN8ETTS87RI2:0000000F [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:26:31.1564263+01:00 0HN8ETTS87RI2:0000000F [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 886.9348ms (afa2e885)
2024-11-27T15:26:31.1565813+01:00 0HN8ETTS87RI2:0000000F [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:26:31.1597341+01:00 0HN8ETTS87RI2:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 911.4279ms (74253ad3)
2024-11-27T15:26:31.1609822+01:00 0HN8ETTS87RI2:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:26:31.1662261+01:00 0HN8ETTS87RI2:00000011 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:26:31.1683432+01:00 0HN8ETTS87RI2:00000011 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:26:31.2523351+01:00 0HN8ETTS87RI2:00000011 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:26:31.2792075+01:00 0HN8ETTS87RI2:00000011 [INF] Executed DbCommand ("16"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:26:31.3739069+01:00 0HN8ETTS87RI2:00000011 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:26:31.3780510+01:00 0HN8ETTS87RI2:00000011 [INF] Executed ViewResult - view "DemandesListRequester" executed in 4.4024ms. (f66409e9)
2024-11-27T15:26:31.3781222+01:00 0HN8ETTS87RI2:00000011 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 209.7251ms (afa2e885)
2024-11-27T15:26:31.3781449+01:00 0HN8ETTS87RI2:00000011 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:26:31.3784387+01:00 0HN8ETTS87RI2:00000011 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:26:31.3785785+01:00 0HN8ETTS87RI2:00000011 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:26:31.3787600+01:00 0HN8ETTS87RI2:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 217.8798ms (74253ad3)
2024-11-27T15:26:33.4566878+01:00 0HN8ETTS87RI2:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - null null (d509f86a)
2024-11-27T15:26:33.4597950+01:00 0HN8ETTS87RI2:00000013 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:26:33.4642440+01:00 0HN8ETTS87RI2:00000013 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:26:33.5300704+01:00 0HN8ETTS87RI2:00000013 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:26:33.5477414+01:00 0HN8ETTS87RI2:00000013 [INF] Executed DbCommand ("10"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:26:37.5936931+01:00 0HN8ETTS87RI2:00000013 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 4129.3431ms (afa2e885)
2024-11-27T15:26:37.5939755+01:00 0HN8ETTS87RI2:00000013 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:26:37.6128031+01:00 0HN8ETTS87RI2:00000013 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.AggregateException: One or more errors occurred. (The model item passed into the ViewDataDictionary is of type 'StockManagement.Application.Features.Demandes.DTOs.GetDemandeByIdResponseDTO', but this ViewDataDictionary instance requires a model item of type 'StockManagement.Application.Features.Demandes.DTOs.GetListDemandesByUserIdResponseDTO'.)
 ---> System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'StockManagement.Application.Features.Demandes.DTOs.GetDemandeByIdResponseDTO', but this ViewDataDictionary instance requires a model item of type 'StockManagement.Application.Features.Demandes.DTOs.GetListDemandesByUserIdResponseDTO'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at lambda_method643(Closure, ViewDataDictionary)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at StockManagement.Web.Services.RazorViewToStringRenderer.RenderViewToStringAsync(String viewName, Object model) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Services\RazorViewToStringRenderer.cs:line 54
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at StockManagement.Web.Services.PdfService.GenerateDemandePdf(GetDemandeByIdResponseDTO demande) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Services\PdfService.cs:line 69
   at DemandesController.ExportDemandeToPdf(Guid demandeId) in C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\Controllers\DemandesController.cs:line 133
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-27T15:26:37.6336141+01:00 0HN8ETTS87RI2:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - 500 null "text/html; charset=utf-8" 4177.0591ms (74253ad3)
2024-11-27T15:26:37.6546281+01:00 0HN8ETTS87RI2:00000015 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:26:37.6551986+01:00 0HN8ETTS87RI2:00000017 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:26:37.6566983+01:00 0HN8ETTS87RI2:00000017 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.4608ms (74253ad3)
2024-11-27T15:26:37.6628846+01:00 0HN8ETTS87RI2:00000015 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 8.4259ms (74253ad3)
2024-11-27T15:27:54.8916659+01:00  [INF] User profile is available. Using '"C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-11-27T15:27:55.0624640+01:00  [INF] Now listening on: "https://localhost:7025" (d826f4b8)
2024-11-27T15:27:55.0625718+01:00  [INF] Now listening on: "http://localhost:5222" (d826f4b8)
2024-11-27T15:27:55.0903761+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-11-27T15:27:55.0906450+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-11-27T15:27:55.0906639+01:00  [INF] Content root path: "C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web" (cc26f24e)
2024-11-27T15:27:55.5462594+01:00 0HN8ETUNG9HO6:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - null null (d509f86a)
2024-11-27T15:27:55.6653708+01:00 0HN8ETUNG9HO6:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - 404 0 null 123.0546ms (74253ad3)
2024-11-27T15:27:55.6662970+01:00 0HN8ETUNG9HO6:00000001 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7025""""/index.html", Response status code: 404 (e353595a)
2024-11-27T15:27:58.2021546+01:00 0HN8ETUNG9HO6:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:27:58.2090747+01:00 0HN8ETUNG9HO6:00000003 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:27:58.2178442+01:00 0HN8ETUNG9HO6:00000003 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:27:58.3199995+01:00 0HN8ETUNG9HO6:00000003 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:27:58.3443069+01:00 0HN8ETUNG9HO6:00000003 [INF] Executed ViewResult - view "Acceuil" executed in 24.7995ms. (f66409e9)
2024-11-27T15:27:58.3451567+01:00 0HN8ETUNG9HO6:00000003 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 126.9145ms (afa2e885)
2024-11-27T15:27:58.3452499+01:00 0HN8ETUNG9HO6:00000003 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:27:58.3477581+01:00 0HN8ETUNG9HO6:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 145.6875ms (74253ad3)
2024-11-27T15:27:58.3763601+01:00 0HN8ETUNG9HO6:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:27:58.3770132+01:00 0HN8ETUNG9HO6:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:27:58.3897015+01:00 0HN8ETUNG9HO6:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 13.4136ms (74253ad3)
2024-11-27T15:27:58.4085270+01:00 0HN8ETUNG9HO6:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 31.7799ms (74253ad3)
2024-11-27T15:27:59.6939522+01:00 0HN8ETUNG9HO6:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:27:59.6989548+01:00 0HN8ETUNG9HO6:00000009 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:27:59.7003030+01:00 0HN8ETUNG9HO6:00000009 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:27:59.7049096+01:00 0HN8ETUNG9HO6:00000009 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:27:59.7113723+01:00 0HN8ETUNG9HO6:00000009 [INF] Executed ViewResult - view "Login" executed in 6.9813ms. (f66409e9)
2024-11-27T15:27:59.7115273+01:00 0HN8ETUNG9HO6:00000009 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 11.178ms (afa2e885)
2024-11-27T15:27:59.7115558+01:00 0HN8ETUNG9HO6:00000009 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:27:59.7116729+01:00 0HN8ETUNG9HO6:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 18.0666ms (74253ad3)
2024-11-27T15:27:59.7378968+01:00 0HN8ETUNG9HO6:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:27:59.7388801+01:00 0HN8ETUNG9HO6:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.1862ms (74253ad3)
2024-11-27T15:27:59.7392320+01:00 0HN8ETUNG9HO6:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:27:59.7568006+01:00 0HN8ETUNG9HO6:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 17.7103ms (74253ad3)
2024-11-27T15:28:00.9002535+01:00 0HN8ETUNG9HO6:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 31 (d509f86a)
2024-11-27T15:28:00.9030280+01:00 0HN8ETUNG9HO6:0000000F [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:28:00.9167268+01:00 0HN8ETUNG9HO6:0000000F [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:28:01.6781801+01:00 0HN8ETUNG9HO6:0000000F [INF] Executed DbCommand ("39"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:28:01.7464853+01:00 0HN8ETUNG9HO6:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:28:01.7497643+01:00 0HN8ETUNG9HO6:0000000F [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:28:01.7592502+01:00 0HN8ETUNG9HO6:0000000F [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:28:01.7597445+01:00 0HN8ETUNG9HO6:0000000F [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 842.9226ms (afa2e885)
2024-11-27T15:28:01.7599016+01:00 0HN8ETUNG9HO6:0000000F [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:28:01.7631199+01:00 0HN8ETUNG9HO6:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 862.9922ms (74253ad3)
2024-11-27T15:28:01.7634699+01:00 0HN8ETUNG9HO6:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:28:01.7678408+01:00 0HN8ETUNG9HO6:00000011 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:28:01.7700727+01:00 0HN8ETUNG9HO6:00000011 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:28:01.8623866+01:00 0HN8ETUNG9HO6:00000011 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:28:01.8918079+01:00 0HN8ETUNG9HO6:00000011 [INF] Executed DbCommand ("18"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:28:01.9916797+01:00 0HN8ETUNG9HO6:00000011 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:28:01.9967684+01:00 0HN8ETUNG9HO6:00000011 [INF] Executed ViewResult - view "DemandesListRequester" executed in 5.3659ms. (f66409e9)
2024-11-27T15:28:01.9968448+01:00 0HN8ETUNG9HO6:00000011 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 226.7081ms (afa2e885)
2024-11-27T15:28:01.9968679+01:00 0HN8ETUNG9HO6:00000011 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:28:01.9971602+01:00 0HN8ETUNG9HO6:00000011 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:28:01.9972945+01:00 0HN8ETUNG9HO6:00000011 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:28:01.9974330+01:00 0HN8ETUNG9HO6:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 234.0929ms (74253ad3)
2024-11-27T15:28:03.2566242+01:00 0HN8ETUNG9HO6:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - null null (d509f86a)
2024-11-27T15:28:03.2587308+01:00 0HN8ETUNG9HO6:00000013 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:28:03.2614564+01:00 0HN8ETUNG9HO6:00000013 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:28:03.3180097+01:00 0HN8ETUNG9HO6:00000013 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:28:03.3342805+01:00 0HN8ETUNG9HO6:00000013 [INF] Executed DbCommand ("8"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:28:05.8983602+01:00 0HN8ETUNG9HO6:00000013 [INF] Executing "FileContentResult", sending file with download name '"Demande_348ca697-3ccd-45dd-869c-3fd66bafa16c.pdf"' ... (3ade02d2)
2024-11-27T15:28:05.9039174+01:00 0HN8ETUNG9HO6:00000013 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 2642.3733ms (afa2e885)
2024-11-27T15:28:05.9039771+01:00 0HN8ETUNG9HO6:00000013 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:28:05.9041821+01:00 0HN8ETUNG9HO6:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=348ca697-3ccd-45dd-869c-3fd66bafa16c" - 200 18281 "application/pdf" 2647.5954ms (74253ad3)
2024-11-27T15:28:20.4455531+01:00 0HN8ETUNG9HO6:00000015 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=a26475e6-99b0-4729-94a4-f91c748f8372" - null null (d509f86a)
2024-11-27T15:28:20.4479680+01:00 0HN8ETUNG9HO6:00000015 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:28:20.4481698+01:00 0HN8ETUNG9HO6:00000015 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:28:20.4596992+01:00 0HN8ETUNG9HO6:00000015 [INF] Executed DbCommand ("6"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:28:30.4683572+01:00 0HN8ETUNG9HO6:00000017 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=a26475e6-99b0-4729-94a4-f91c748f8372" - null null (d509f86a)
2024-11-27T15:28:30.4705227+01:00 0HN8ETUNG9HO6:00000017 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:28:30.4707536+01:00 0HN8ETUNG9HO6:00000017 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:28:30.4745258+01:00 0HN8ETUNG9HO6:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:28:42.0603025+01:00 0HN8ETUNG9HO6:00000019 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:28:42.0650083+01:00 0HN8ETUNG9HO6:00000019 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:28:42.0651137+01:00 0HN8ETUNG9HO6:00000019 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:28:42.0686757+01:00 0HN8ETUNG9HO6:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:28:42.0704423+01:00 0HN8ETUNG9HO6:00000019 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:28:42.0716328+01:00 0HN8ETUNG9HO6:00000019 [INF] Executed ViewResult - view "DemandesListRequester" executed in 1.2805ms. (f66409e9)
2024-11-27T15:28:42.0717607+01:00 0HN8ETUNG9HO6:00000019 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 6.6001ms (afa2e885)
2024-11-27T15:28:42.0717979+01:00 0HN8ETUNG9HO6:00000019 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:28:42.0718680+01:00 0HN8ETUNG9HO6:00000019 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:28:42.0719047+01:00 0HN8ETUNG9HO6:00000019 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:28:42.0720925+01:00 0HN8ETUNG9HO6:00000019 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 12.1684ms (74253ad3)
2024-11-27T15:28:43.1964089+01:00 0HN8ETUNG9HO6:0000001B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:28:43.1983446+01:00 0HN8ETUNG9HO6:0000001B [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:28:43.1984272+01:00 0HN8ETUNG9HO6:0000001B [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:28:43.2009461+01:00 0HN8ETUNG9HO6:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:28:43.2023907+01:00 0HN8ETUNG9HO6:0000001B [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:28:43.2033387+01:00 0HN8ETUNG9HO6:0000001B [INF] Executed ViewResult - view "DemandesListRequester" executed in 0.9925ms. (f66409e9)
2024-11-27T15:28:43.2034253+01:00 0HN8ETUNG9HO6:0000001B [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 4.9666ms (afa2e885)
2024-11-27T15:28:43.2034653+01:00 0HN8ETUNG9HO6:0000001B [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:28:43.2035772+01:00 0HN8ETUNG9HO6:0000001B [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:28:43.2036218+01:00 0HN8ETUNG9HO6:0000001B [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:28:43.2037615+01:00 0HN8ETUNG9HO6:0000001B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 7.5379ms (74253ad3)
2024-11-27T15:28:45.0917474+01:00 0HN8ETUNG9HO6:0000001D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - null null (d509f86a)
2024-11-27T15:28:45.0936433+01:00 0HN8ETUNG9HO6:0000001D [INF] Executing endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (500cc934)
2024-11-27T15:28:45.0951336+01:00 0HN8ETUNG9HO6:0000001D [INF] Route matched with "{action = \"CreateDemande\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult CreateDemande()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:28:45.1145529+01:00 0HN8ETUNG9HO6:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Name]
FROM (
    SELECT DISTINCT [p].[Id], [p].[CreatedBy], [p].[CreatedDate], [p].[IsDeleted], [p].[ModifiedBy], [p].[ModifiedDate], [p].[Name]
    FROM [Produits] AS [p]
) AS [t]" (0723d8ff)
2024-11-27T15:28:45.1171676+01:00 0HN8ETUNG9HO6:0000001D [INF] Executing ViewResult, running view "CreateDemande". (c83d0e25)
2024-11-27T15:28:45.1222635+01:00 0HN8ETUNG9HO6:0000001D [INF] Executed ViewResult - view "CreateDemande" executed in 5.5655ms. (f66409e9)
2024-11-27T15:28:45.1223255+01:00 0HN8ETUNG9HO6:0000001D [INF] Executed action "DemandesController.CreateDemande (StockManagement.Web)" in 27.1476ms (afa2e885)
2024-11-27T15:28:45.1223560+01:00 0HN8ETUNG9HO6:0000001D [INF] Executed endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (99874f2b)
2024-11-27T15:28:45.1224148+01:00 0HN8ETUNG9HO6:0000001D [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:28:45.1224527+01:00 0HN8ETUNG9HO6:0000001D [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:28:45.1225866+01:00 0HN8ETUNG9HO6:0000001D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - 200 null "text/html; charset=utf-8" 31.0886ms (74253ad3)
2024-11-27T15:28:52.4613363+01:00 0HN8ETUNG9HO6:0000001F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - "application/x-www-form-urlencoded" 424 (d509f86a)
2024-11-27T15:28:52.4628473+01:00 0HN8ETUNG9HO6:0000001F [INF] Executing endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (500cc934)
2024-11-27T15:28:52.4688566+01:00 0HN8ETUNG9HO6:0000001F [INF] Route matched with "{action = \"CreateDemande\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDemande(StockManagement.Application.Features.Demandes.DTOs.CreateDemandeDTO)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:28:52.5346878+01:00 0HN8ETUNG9HO6:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentYear_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Demandes] AS [d]
WHERE [d].[CreatedDate] IS NOT NULL AND DATEPART(year, [d].[CreatedDate]) = @__currentYear_0" (0723d8ff)
2024-11-27T15:28:52.5431808+01:00 0HN8ETUNG9HO6:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[StatusName]
FROM [StatusDemandes] AS [s]
WHERE [s].[StatusName] = N'En cours de traitement'" (0723d8ff)
2024-11-27T15:28:52.6700610+01:00 0HN8ETUNG9HO6:0000001F [INF] Executed DbCommand ("7"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Guid), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (Size = 4000), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Guid), @p22='?' (DbType = Boolean), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Guid), @p27='?' (DbType = Int32), @p28='?' (DbType = Guid), @p29='?' (Size = 4000), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?' (DbType = Boolean), @p33='?' (DbType = Int32), @p34='?' (Size = 4000), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Int32), @p38='?' (DbType = Guid), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (DbType = Guid), @p42='?' (DbType = Boolean), @p43='?' (DbType = Int32), @p44='?' (Size = 4000), @p45='?' (DbType = DateTime2), @p46='?' (DbType = Guid), @p47='?' (DbType = Int32), @p48='?' (DbType = Guid), @p49='?' (Size = 4000), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid), @p52='?' (DbType = Boolean), @p53='?' (Size = 4000), @p54='?' (DbType = DateTime2), @p55='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Demandes] ([Id], [CreatedBy], [CreatedDate], [DemandeNumber], [IsDeleted], [ModifiedBy], [ModifiedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [DemandeProduits] ([Id], [CreatedBy], [CreatedDate], [DemandeId], [IsDeleted], [Livré], [ModifiedBy], [ModifiedDate], [ProduitId], [Quantité])
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37),
(@p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47);
INSERT INTO [HistoriqueStatusDemandes] ([Id], [CreatedBy], [CreatedDate], [DemandeId], [IsDeleted], [ModifiedBy], [ModifiedDate], [StatusDemandeId])
VALUES (@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);" (0723d8ff)
2024-11-27T15:28:52.6885715+01:00 0HN8ETUNG9HO6:0000001F [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:28:52.6886932+01:00 0HN8ETUNG9HO6:0000001F [INF] Executed action "DemandesController.CreateDemande (StockManagement.Web)" in 219.7934ms (afa2e885)
2024-11-27T15:28:52.6887240+01:00 0HN8ETUNG9HO6:0000001F [INF] Executed endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (99874f2b)
2024-11-27T15:28:52.6889036+01:00 0HN8ETUNG9HO6:0000001F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - 302 0 null 227.6421ms (74253ad3)
2024-11-27T15:28:52.6929336+01:00 0HN8ETUNG9HO6:00000021 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:28:52.6945323+01:00 0HN8ETUNG9HO6:00000021 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:28:52.6946147+01:00 0HN8ETUNG9HO6:00000021 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:28:52.6972283+01:00 0HN8ETUNG9HO6:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:28:52.7008993+01:00 0HN8ETUNG9HO6:00000021 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:28:52.7075000+01:00 0HN8ETUNG9HO6:00000021 [INF] Executed ViewResult - view "DemandesListRequester" executed in 6.6221ms. (f66409e9)
2024-11-27T15:28:52.7102640+01:00 0HN8ETUNG9HO6:00000021 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 15.5977ms (afa2e885)
2024-11-27T15:28:52.7103200+01:00 0HN8ETUNG9HO6:00000021 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:28:52.7103996+01:00 0HN8ETUNG9HO6:00000021 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:28:52.7104294+01:00 0HN8ETUNG9HO6:00000021 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:28:52.7106110+01:00 0HN8ETUNG9HO6:00000021 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 17.789ms (74253ad3)
2024-11-27T15:28:56.8658947+01:00 0HN8ETUNG9HO6:00000023 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=b3ca9ecf-7a27-4392-9604-0ef8dd69f946" - null null (d509f86a)
2024-11-27T15:28:56.8674770+01:00 0HN8ETUNG9HO6:00000023 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:28:56.8675762+01:00 0HN8ETUNG9HO6:00000023 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:28:56.8900375+01:00 0HN8ETUNG9HO6:00000023 [INF] Executed DbCommand ("21"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:29:39.1025885+01:00  [INF] User profile is available. Using '"C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-11-27T15:29:39.3100475+01:00  [INF] Now listening on: "https://localhost:7025" (d826f4b8)
2024-11-27T15:29:39.3101875+01:00  [INF] Now listening on: "http://localhost:5222" (d826f4b8)
2024-11-27T15:29:39.3400323+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-11-27T15:29:39.3405971+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-11-27T15:29:39.3406514+01:00  [INF] Content root path: "C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web" (cc26f24e)
2024-11-27T15:29:39.8746480+01:00 0HN8ETVMJLM1T:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - null null (d509f86a)
2024-11-27T15:29:39.9982201+01:00 0HN8ETVMJLM1T:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - 404 0 null 129.1835ms (74253ad3)
2024-11-27T15:29:39.9992453+01:00 0HN8ETVMJLM1T:00000001 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7025""""/index.html", Response status code: 404 (e353595a)
2024-11-27T15:29:54.1494783+01:00 0HN8ETVMJLM1T:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/index.html""" - null null (d509f86a)
2024-11-27T15:29:54.1906885+01:00 0HN8ETVMJLM1T:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 41.1977ms (74253ad3)
2024-11-27T15:29:54.2232296+01:00 0HN8ETVMJLM1T:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/swagger-ui.css""" - null null (d509f86a)
2024-11-27T15:29:54.2287391+01:00 0HN8ETVMJLM1T:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/index.css""" - null null (d509f86a)
2024-11-27T15:29:54.2302686+01:00 0HN8ETVMJLM1T:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/swagger-ui-standalone-preset.js""" - null null (d509f86a)
2024-11-27T15:29:54.2302584+01:00 0HN8ETVMJLM1T:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/swagger-ui-bundle.js""" - null null (d509f86a)
2024-11-27T15:29:54.2314972+01:00 0HN8ETVMJLM1T:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:29:54.2345296+01:00 0HN8ETVMJLM1T:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/index.js""" - null null (d509f86a)
2024-11-27T15:29:54.2365216+01:00 0HN8ETVMJLM1T:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:29:54.2394435+01:00 0HN8ETVMJLM1T:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/index.js""" - 200 null "application/javascript;charset=utf-8" 7.8605ms (74253ad3)
2024-11-27T15:29:54.2394890+01:00 0HN8ETVMJLM1T:00000005 [INF] The file "/swagger-ui.css" was not modified (f1f8d725)
2024-11-27T15:29:54.2394917+01:00 0HN8ETVMJLM1T:00000007 [INF] The file "/index.css" was not modified (f1f8d725)
2024-11-27T15:29:54.2394903+01:00 0HN8ETVMJLM1T:0000000B [INF] The file "/swagger-ui-standalone-preset.js" was not modified (f1f8d725)
2024-11-27T15:29:54.2394943+01:00 0HN8ETVMJLM1T:00000009 [INF] The file "/swagger-ui-bundle.js" was not modified (f1f8d725)
2024-11-27T15:29:54.2429492+01:00 0HN8ETVMJLM1T:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/swagger-ui-standalone-preset.js""" - 304 null "text/javascript" 12.9064ms (74253ad3)
2024-11-27T15:29:54.2438233+01:00 0HN8ETVMJLM1T:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/swagger-ui-bundle.js""" - 304 null "text/javascript" 13.8652ms (74253ad3)
2024-11-27T15:29:54.2438328+01:00 0HN8ETVMJLM1T:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/swagger-ui.css""" - 304 null "text/css" 20.7677ms (74253ad3)
2024-11-27T15:29:54.2438405+01:00 0HN8ETVMJLM1T:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/index.css""" - 304 null "text/css" 15.5454ms (74253ad3)
2024-11-27T15:29:54.2554635+01:00 0HN8ETVMJLM1T:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 24.8735ms (74253ad3)
2024-11-27T15:29:54.2741550+01:00 0HN8ETVMJLM1T:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 38.2658ms (74253ad3)
2024-11-27T15:29:54.4747015+01:00 0HN8ETVMJLM1T:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/v1/swagger.json""" - null null (d509f86a)
2024-11-27T15:29:54.5636871+01:00 0HN8ETVMJLM1T:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 89.0515ms (74253ad3)
2024-11-27T15:29:58.2249978+01:00 0HN8ETVMJLM1T:00000015 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:29:58.2295992+01:00 0HN8ETVMJLM1T:00000015 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:29:58.2390762+01:00 0HN8ETVMJLM1T:00000015 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:29:58.3318806+01:00 0HN8ETVMJLM1T:00000015 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:29:58.3502359+01:00 0HN8ETVMJLM1T:00000015 [INF] Executed ViewResult - view "Acceuil" executed in 19.1288ms. (f66409e9)
2024-11-27T15:29:58.3510433+01:00 0HN8ETVMJLM1T:00000015 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 111.5167ms (afa2e885)
2024-11-27T15:29:58.3511847+01:00 0HN8ETVMJLM1T:00000015 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:29:58.3547728+01:00 0HN8ETVMJLM1T:00000015 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 130.0878ms (74253ad3)
2024-11-27T15:29:58.3889491+01:00 0HN8ETVMJLM1T:00000017 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:29:58.3897024+01:00 0HN8ETVMJLM1T:00000019 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:29:58.3899837+01:00 0HN8ETVMJLM1T:00000017 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.3278ms (74253ad3)
2024-11-27T15:29:58.4043624+01:00 0HN8ETVMJLM1T:00000019 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 15.002ms (74253ad3)
2024-11-27T15:29:59.3490871+01:00 0HN8ETVMJLM1T:0000001B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:29:59.3522889+01:00 0HN8ETVMJLM1T:0000001B [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:29:59.3536623+01:00 0HN8ETVMJLM1T:0000001B [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:29:59.3590339+01:00 0HN8ETVMJLM1T:0000001B [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:29:59.3635553+01:00 0HN8ETVMJLM1T:0000001B [INF] Executed ViewResult - view "Login" executed in 5.0039ms. (f66409e9)
2024-11-27T15:29:59.3636270+01:00 0HN8ETVMJLM1T:0000001B [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 9.9257ms (afa2e885)
2024-11-27T15:29:59.3636548+01:00 0HN8ETVMJLM1T:0000001B [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:29:59.3637822+01:00 0HN8ETVMJLM1T:0000001B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 14.9964ms (74253ad3)
2024-11-27T15:29:59.3866693+01:00 0HN8ETVMJLM1T:0000001F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:29:59.3866689+01:00 0HN8ETVMJLM1T:0000001D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:29:59.3873668+01:00 0HN8ETVMJLM1T:0000001F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.1099ms (74253ad3)
2024-11-27T15:29:59.3980650+01:00 0HN8ETVMJLM1T:0000001D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 11.7756ms (74253ad3)
2024-11-27T15:30:00.1805192+01:00 0HN8ETVMJLM1T:00000021 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 31 (d509f86a)
2024-11-27T15:30:00.1836606+01:00 0HN8ETVMJLM1T:00000021 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:30:00.1929205+01:00 0HN8ETVMJLM1T:00000021 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:30:00.9791221+01:00 0HN8ETVMJLM1T:00000021 [INF] Executed DbCommand ("33"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:30:01.0448112+01:00 0HN8ETVMJLM1T:00000021 [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:30:01.0483064+01:00 0HN8ETVMJLM1T:00000021 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:30:01.0572475+01:00 0HN8ETVMJLM1T:00000021 [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:30:01.0577404+01:00 0HN8ETVMJLM1T:00000021 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 864.7591ms (afa2e885)
2024-11-27T15:30:01.0579033+01:00 0HN8ETVMJLM1T:00000021 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:30:01.0610389+01:00 0HN8ETVMJLM1T:00000021 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 880.8083ms (74253ad3)
2024-11-27T15:30:01.0615557+01:00 0HN8ETVMJLM1T:00000023 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:30:01.0660131+01:00 0HN8ETVMJLM1T:00000023 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:30:01.0681373+01:00 0HN8ETVMJLM1T:00000023 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:30:01.1538960+01:00 0HN8ETVMJLM1T:00000023 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:30:01.1794710+01:00 0HN8ETVMJLM1T:00000023 [INF] Executed DbCommand ("14"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:30:01.2837253+01:00 0HN8ETVMJLM1T:00000023 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:30:01.2956284+01:00 0HN8ETVMJLM1T:00000023 [INF] Executed ViewResult - view "DemandesListRequester" executed in 12.233ms. (f66409e9)
2024-11-27T15:30:01.2967158+01:00 0HN8ETVMJLM1T:00000023 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 228.5002ms (afa2e885)
2024-11-27T15:30:01.2967961+01:00 0HN8ETVMJLM1T:00000023 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:30:01.2973556+01:00 0HN8ETVMJLM1T:00000023 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:30:01.2977079+01:00 0HN8ETVMJLM1T:00000023 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:30:01.2980399+01:00 0HN8ETVMJLM1T:00000023 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 236.8707ms (74253ad3)
2024-11-27T15:30:02.6568335+01:00 0HN8ETVMJLM1T:00000025 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=b3ca9ecf-7a27-4392-9604-0ef8dd69f946" - null null (d509f86a)
2024-11-27T15:30:02.6589181+01:00 0HN8ETVMJLM1T:00000025 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:30:02.6614933+01:00 0HN8ETVMJLM1T:00000025 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:30:02.7167114+01:00 0HN8ETVMJLM1T:00000025 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:30:02.7406862+01:00 0HN8ETVMJLM1T:00000025 [INF] Executed DbCommand ("15"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:30:55.8576217+01:00 0HN8ETVMJLM1T:00000025 [INF] Executing "FileContentResult", sending file with download name '"Demande_b3ca9ecf-7a27-4392-9604-0ef8dd69f946.pdf"' ... (3ade02d2)
2024-11-27T15:30:55.8599716+01:00 0HN8ETVMJLM1T:00000025 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 53198.3159ms (afa2e885)
2024-11-27T15:30:55.8600369+01:00 0HN8ETVMJLM1T:00000025 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:30:55.8602989+01:00 0HN8ETVMJLM1T:00000025 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=b3ca9ecf-7a27-4392-9604-0ef8dd69f946" - 200 18737 "application/pdf" 53203.4848ms (74253ad3)
2024-11-27T15:35:20.0100167+01:00  [INF] User profile is available. Using '"C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-11-27T15:35:20.1829486+01:00  [INF] Now listening on: "https://localhost:7025" (d826f4b8)
2024-11-27T15:35:20.1830434+01:00  [INF] Now listening on: "http://localhost:5222" (d826f4b8)
2024-11-27T15:35:20.2089798+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-11-27T15:35:20.2092487+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-11-27T15:35:20.2092738+01:00  [INF] Content root path: "C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web" (cc26f24e)
2024-11-27T15:35:20.6095964+01:00 0HN8EU2S584NN:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - null null (d509f86a)
2024-11-27T15:35:20.7263806+01:00 0HN8EU2S584NN:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - 404 0 null 119.9805ms (74253ad3)
2024-11-27T15:35:20.7272673+01:00 0HN8EU2S584NN:00000001 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7025""""/index.html", Response status code: 404 (e353595a)
2024-11-27T15:35:22.9423724+01:00 0HN8EU2S584NN:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:35:22.9534904+01:00 0HN8EU2S584NN:00000003 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:35:22.9633915+01:00 0HN8EU2S584NN:00000003 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:35:23.0683602+01:00 0HN8EU2S584NN:00000003 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:35:23.0897330+01:00 0HN8EU2S584NN:00000003 [INF] Executed ViewResult - view "Acceuil" executed in 22.2395ms. (f66409e9)
2024-11-27T15:35:23.0902556+01:00 0HN8EU2S584NN:00000003 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 126.5194ms (afa2e885)
2024-11-27T15:35:23.0903244+01:00 0HN8EU2S584NN:00000003 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:35:23.0921947+01:00 0HN8EU2S584NN:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 149.8584ms (74253ad3)
2024-11-27T15:35:23.1225911+01:00 0HN8EU2S584NN:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:35:23.1230093+01:00 0HN8EU2S584NN:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:35:23.1410988+01:00 0HN8EU2S584NN:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 18.5582ms (74253ad3)
2024-11-27T15:35:23.1615441+01:00 0HN8EU2S584NN:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 38.701ms (74253ad3)
2024-11-27T15:35:24.5057597+01:00 0HN8EU2S584NN:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:35:24.5134012+01:00 0HN8EU2S584NN:00000009 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:35:24.5154651+01:00 0HN8EU2S584NN:00000009 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:35:24.5198180+01:00 0HN8EU2S584NN:00000009 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:35:24.5249031+01:00 0HN8EU2S584NN:00000009 [INF] Executed ViewResult - view "Login" executed in 5.4935ms. (f66409e9)
2024-11-27T15:35:24.5250499+01:00 0HN8EU2S584NN:00000009 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 9.5321ms (afa2e885)
2024-11-27T15:35:24.5250786+01:00 0HN8EU2S584NN:00000009 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:35:24.5251940+01:00 0HN8EU2S584NN:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 19.8083ms (74253ad3)
2024-11-27T15:35:24.5495535+01:00 0HN8EU2S584NN:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:35:24.5503851+01:00 0HN8EU2S584NN:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 0.9814ms (74253ad3)
2024-11-27T15:35:24.5513433+01:00 0HN8EU2S584NN:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:35:24.5678974+01:00 0HN8EU2S584NN:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 16.7268ms (74253ad3)
2024-11-27T15:35:25.7553085+01:00 0HN8EU2S584NN:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 31 (d509f86a)
2024-11-27T15:35:25.7586561+01:00 0HN8EU2S584NN:0000000F [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:35:25.7720351+01:00 0HN8EU2S584NN:0000000F [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:35:26.7129823+01:00 0HN8EU2S584NN:0000000F [INF] Executed DbCommand ("33"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:35:26.7881782+01:00 0HN8EU2S584NN:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:35:26.7919505+01:00 0HN8EU2S584NN:0000000F [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:35:26.8018207+01:00 0HN8EU2S584NN:0000000F [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:35:26.8023850+01:00 0HN8EU2S584NN:0000000F [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 1030.2514ms (afa2e885)
2024-11-27T15:35:26.8025509+01:00 0HN8EU2S584NN:0000000F [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:35:26.8062706+01:00 0HN8EU2S584NN:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 1051.1062ms (74253ad3)
2024-11-27T15:35:26.8069880+01:00 0HN8EU2S584NN:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:35:26.8166069+01:00 0HN8EU2S584NN:00000011 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:35:26.8207401+01:00 0HN8EU2S584NN:00000011 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:35:26.9210558+01:00 0HN8EU2S584NN:00000011 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:35:26.9463392+01:00 0HN8EU2S584NN:00000011 [INF] Executed DbCommand ("13"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:35:26.9478732+01:00 0HN8EU2S584NN:00000011 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:35:26.9514230+01:00 0HN8EU2S584NN:00000011 [INF] Executed ViewResult - view "DemandesListRequester" executed in 3.9997ms. (f66409e9)
2024-11-27T15:35:26.9515081+01:00 0HN8EU2S584NN:00000011 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 130.7083ms (afa2e885)
2024-11-27T15:35:26.9515326+01:00 0HN8EU2S584NN:00000011 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:35:26.9518742+01:00 0HN8EU2S584NN:00000011 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:35:26.9520275+01:00 0HN8EU2S584NN:00000011 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:35:26.9521831+01:00 0HN8EU2S584NN:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 145.602ms (74253ad3)
2024-11-27T15:35:29.7403241+01:00 0HN8EU2S584NN:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - null null (d509f86a)
2024-11-27T15:35:29.7456729+01:00 0HN8EU2S584NN:00000013 [INF] Executing endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (500cc934)
2024-11-27T15:35:29.7465888+01:00 0HN8EU2S584NN:00000013 [INF] Route matched with "{action = \"CreateDemande\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult CreateDemande()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:35:29.7919285+01:00 0HN8EU2S584NN:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Name]
FROM (
    SELECT DISTINCT [p].[Id], [p].[CreatedBy], [p].[CreatedDate], [p].[IsDeleted], [p].[ModifiedBy], [p].[ModifiedDate], [p].[Name]
    FROM [Produits] AS [p]
) AS [t]" (0723d8ff)
2024-11-27T15:35:29.7941965+01:00 0HN8EU2S584NN:00000013 [INF] Executing ViewResult, running view "CreateDemande". (c83d0e25)
2024-11-27T15:35:29.7977878+01:00 0HN8EU2S584NN:00000013 [INF] Executed ViewResult - view "CreateDemande" executed in 4.0854ms. (f66409e9)
2024-11-27T15:35:29.7978381+01:00 0HN8EU2S584NN:00000013 [INF] Executed action "DemandesController.CreateDemande (StockManagement.Web)" in 51.2176ms (afa2e885)
2024-11-27T15:35:29.7978595+01:00 0HN8EU2S584NN:00000013 [INF] Executed endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (99874f2b)
2024-11-27T15:35:29.7979083+01:00 0HN8EU2S584NN:00000013 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:35:29.7979328+01:00 0HN8EU2S584NN:00000013 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:35:29.7980545+01:00 0HN8EU2S584NN:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - 200 null "text/html; charset=utf-8" 57.9276ms (74253ad3)
2024-11-27T15:35:39.0462021+01:00 0HN8EU2S584NN:00000015 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - "application/x-www-form-urlencoded" 425 (d509f86a)
2024-11-27T15:35:39.0494463+01:00 0HN8EU2S584NN:00000015 [INF] Executing endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (500cc934)
2024-11-27T15:35:39.0557933+01:00 0HN8EU2S584NN:00000015 [INF] Route matched with "{action = \"CreateDemande\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDemande(StockManagement.Application.Features.Demandes.DTOs.CreateDemandeDTO)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:35:39.0893740+01:00 0HN8EU2S584NN:00000015 [INF] Executed DbCommand ("6"ms) [Parameters=["@__currentYear_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Demandes] AS [d]
WHERE [d].[CreatedDate] IS NOT NULL AND DATEPART(year, [d].[CreatedDate]) = @__currentYear_0" (0723d8ff)
2024-11-27T15:35:39.0963199+01:00 0HN8EU2S584NN:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[StatusName]
FROM [StatusDemandes] AS [s]
WHERE [s].[StatusName] = N'En cours de traitement'" (0723d8ff)
2024-11-27T15:35:39.2298633+01:00 0HN8EU2S584NN:00000015 [INF] Executed DbCommand ("8"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Guid), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (Size = 4000), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Guid), @p22='?' (DbType = Boolean), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Guid), @p27='?' (DbType = Int32), @p28='?' (DbType = Guid), @p29='?' (Size = 4000), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?' (DbType = Boolean), @p33='?' (DbType = Int32), @p34='?' (Size = 4000), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Int32), @p38='?' (DbType = Guid), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (DbType = Guid), @p42='?' (DbType = Boolean), @p43='?' (DbType = Int32), @p44='?' (Size = 4000), @p45='?' (DbType = DateTime2), @p46='?' (DbType = Guid), @p47='?' (DbType = Int32), @p48='?' (DbType = Guid), @p49='?' (Size = 4000), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Guid), @p52='?' (DbType = Boolean), @p53='?' (Size = 4000), @p54='?' (DbType = DateTime2), @p55='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Demandes] ([Id], [CreatedBy], [CreatedDate], [DemandeNumber], [IsDeleted], [ModifiedBy], [ModifiedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [DemandeProduits] ([Id], [CreatedBy], [CreatedDate], [DemandeId], [IsDeleted], [Livré], [ModifiedBy], [ModifiedDate], [ProduitId], [Quantité])
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37),
(@p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47);
INSERT INTO [HistoriqueStatusDemandes] ([Id], [CreatedBy], [CreatedDate], [DemandeId], [IsDeleted], [ModifiedBy], [ModifiedDate], [StatusDemandeId])
VALUES (@p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55);" (0723d8ff)
2024-11-27T15:35:39.2432436+01:00 0HN8EU2S584NN:00000015 [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:35:39.2433446+01:00 0HN8EU2S584NN:00000015 [INF] Executed action "DemandesController.CreateDemande (StockManagement.Web)" in 187.4955ms (afa2e885)
2024-11-27T15:35:39.2433653+01:00 0HN8EU2S584NN:00000015 [INF] Executed endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (99874f2b)
2024-11-27T15:35:39.2435044+01:00 0HN8EU2S584NN:00000015 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - 302 0 null 197.4804ms (74253ad3)
2024-11-27T15:35:39.2462161+01:00 0HN8EU2S584NN:00000017 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:35:39.2477147+01:00 0HN8EU2S584NN:00000017 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:35:39.2478575+01:00 0HN8EU2S584NN:00000017 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:35:39.2668602+01:00 0HN8EU2S584NN:00000017 [INF] Executed DbCommand ("16"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:35:39.3180918+01:00 0HN8EU2S584NN:00000017 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:35:39.3199098+01:00 0HN8EU2S584NN:00000017 [INF] Executed ViewResult - view "DemandesListRequester" executed in 1.9405ms. (f66409e9)
2024-11-27T15:35:39.3199632+01:00 0HN8EU2S584NN:00000017 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 72.0785ms (afa2e885)
2024-11-27T15:35:39.3199843+01:00 0HN8EU2S584NN:00000017 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:35:39.3200415+01:00 0HN8EU2S584NN:00000017 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:35:39.3200750+01:00 0HN8EU2S584NN:00000017 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:35:39.3201918+01:00 0HN8EU2S584NN:00000017 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 74.2987ms (74253ad3)
2024-11-27T15:35:44.8973475+01:00 0HN8EU2S584NN:00000019 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - null null (d509f86a)
2024-11-27T15:35:44.8991297+01:00 0HN8EU2S584NN:00000019 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:35:44.9029100+01:00 0HN8EU2S584NN:00000019 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:35:44.9259763+01:00 0HN8EU2S584NN:00000019 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:35:44.9437514+01:00 0HN8EU2S584NN:00000019 [INF] Executed DbCommand ("9"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:35:50.2409823+01:00 0HN8EU2S584NN:00000019 [INF] Executing "FileContentResult", sending file with download name '"Demande_.pdf"' ... (3ade02d2)
2024-11-27T15:35:50.2459138+01:00 0HN8EU2S584NN:00000019 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 5342.7895ms (afa2e885)
2024-11-27T15:35:50.2459661+01:00 0HN8EU2S584NN:00000019 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:35:50.2461546+01:00 0HN8EU2S584NN:00000019 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - 200 18827 "application/pdf" 5348.7946ms (74253ad3)
2024-11-27T15:36:09.8093914+01:00 0HN8EU2S584NO:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:36:09.8112755+01:00 0HN8EU2S584NO:00000001 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:36:09.8114146+01:00 0HN8EU2S584NO:00000001 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:36:09.8117303+01:00 0HN8EU2S584NO:00000001 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:36:09.8125374+01:00 0HN8EU2S584NO:00000001 [INF] Executed ViewResult - view "Acceuil" executed in 0.8598ms. (f66409e9)
2024-11-27T15:36:09.8125839+01:00 0HN8EU2S584NO:00000001 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 1.135ms (afa2e885)
2024-11-27T15:36:09.8126072+01:00 0HN8EU2S584NO:00000001 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:36:09.8127116+01:00 0HN8EU2S584NO:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 3.7725ms (74253ad3)
2024-11-27T15:36:09.8238007+01:00 0HN8EU2S584NO:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/Acceuil.css""" - null null (d509f86a)
2024-11-27T15:36:09.8237977+01:00 0HN8EU2S584NO:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/images/HCP1.jpeg""" - null null (d509f86a)
2024-11-27T15:36:09.8237970+01:00 0HN8EU2S584NO:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:36:09.8244099+01:00 0HN8EU2S584NO:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.0415ms (74253ad3)
2024-11-27T15:36:09.8383905+01:00 0HN8EU2S584NO:00000007 [INF] Sending file. Request path: '"/images/HCP1.jpeg"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\images\HCP1.jpeg"' (27b0a520)
2024-11-27T15:36:09.8385290+01:00 0HN8EU2S584NO:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/images/HCP1.jpeg""" - 200 13452 "image/jpeg" 15.1455ms (74253ad3)
2024-11-27T15:36:09.8409274+01:00 0HN8EU2S584NO:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:36:09.8422924+01:00 0HN8EU2S584NO:00000003 [INF] Sending file. Request path: '"/css/Acceuil.css"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\css\Acceuil.css"' (27b0a520)
2024-11-27T15:36:09.8432342+01:00 0HN8EU2S584NO:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/Acceuil.css""" - 200 1366 "text/css" 19.2852ms (74253ad3)
2024-11-27T15:36:09.8519038+01:00 0HN8EU2S584NO:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 11.0973ms (74253ad3)
2024-11-27T15:36:10.0111011+01:00 0HN8EU2S584NO:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/favicon.ico""" - null null (d509f86a)
2024-11-27T15:36:10.0193951+01:00 0HN8EU2S584NO:0000000B [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\favicon.ico"' (27b0a520)
2024-11-27T15:36:10.0195265+01:00 0HN8EU2S584NO:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/favicon.ico""" - 200 5430 "image/x-icon" 8.8239ms (74253ad3)
2024-11-27T15:36:11.3484915+01:00 0HN8EU2S584NO:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:36:11.3500376+01:00 0HN8EU2S584NO:0000000D [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:36:11.3501175+01:00 0HN8EU2S584NO:0000000D [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:36:11.3503231+01:00 0HN8EU2S584NO:0000000D [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:36:11.3509063+01:00 0HN8EU2S584NO:0000000D [INF] Executed ViewResult - view "Login" executed in 0.5924ms. (f66409e9)
2024-11-27T15:36:11.3509373+01:00 0HN8EU2S584NO:0000000D [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 0.8014ms (afa2e885)
2024-11-27T15:36:11.3509574+01:00 0HN8EU2S584NO:0000000D [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:36:11.3510316+01:00 0HN8EU2S584NO:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 2.6299ms (74253ad3)
2024-11-27T15:36:11.3579817+01:00 0HN8EU2S584NO:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/Login.css""" - null null (d509f86a)
2024-11-27T15:36:11.3579898+01:00 0HN8EU2S584NO:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:36:11.3580083+01:00 0HN8EU2S584NO:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:36:11.3584542+01:00 0HN8EU2S584NO:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 0.6467ms (74253ad3)
2024-11-27T15:36:11.3637273+01:00 0HN8EU2S584NO:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 5.7952ms (74253ad3)
2024-11-27T15:36:11.3740979+01:00 0HN8EU2S584NO:0000000F [INF] Sending file. Request path: '"/css/Login.css"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\css\Login.css"' (27b0a520)
2024-11-27T15:36:11.3742620+01:00 0HN8EU2S584NO:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/Login.css""" - 200 1625 "text/css" 16.4725ms (74253ad3)
2024-11-27T15:36:14.8216968+01:00 0HN8EU2S584NO:00000015 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 47 (d509f86a)
2024-11-27T15:36:14.8237358+01:00 0HN8EU2S584NO:00000015 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:36:14.8238706+01:00 0HN8EU2S584NO:00000015 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:36:14.8327520+01:00 0HN8EU2S584NO:00000015 [INF] Executed DbCommand ("6"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:36:14.8356721+01:00 0HN8EU2S584NO:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:36:14.8366556+01:00 0HN8EU2S584NO:00000015 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:36:14.8368804+01:00 0HN8EU2S584NO:00000015 [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:36:14.8370175+01:00 0HN8EU2S584NO:00000015 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 13.1023ms (afa2e885)
2024-11-27T15:36:14.8370557+01:00 0HN8EU2S584NO:00000015 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:36:14.8372223+01:00 0HN8EU2S584NO:00000015 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 15.9226ms (74253ad3)
2024-11-27T15:36:14.8398741+01:00 0HN8EU2S584NO:00000017 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:36:14.8420228+01:00 0HN8EU2S584NO:00000017 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:36:14.8421027+01:00 0HN8EU2S584NO:00000017 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:36:14.8457372+01:00 0HN8EU2S584NO:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:36:14.8465725+01:00 0HN8EU2S584NO:00000017 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:36:14.8474158+01:00 0HN8EU2S584NO:00000017 [INF] Executed ViewResult - view "DemandesListRequester" executed in 0.8684ms. (f66409e9)
2024-11-27T15:36:14.8474958+01:00 0HN8EU2S584NO:00000017 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 5.3639ms (afa2e885)
2024-11-27T15:36:14.8475423+01:00 0HN8EU2S584NO:00000017 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:36:14.8476190+01:00 0HN8EU2S584NO:00000017 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:36:14.8476706+01:00 0HN8EU2S584NO:00000017 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:36:14.8479782+01:00 0HN8EU2S584NO:00000017 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 8.5217ms (74253ad3)
2024-11-27T15:36:14.8597611+01:00 0HN8EU2S584NO:00000019 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/DemandesListRequester.css""" - null null (d509f86a)
2024-11-27T15:36:14.8690688+01:00 0HN8EU2S584NO:00000019 [INF] Sending file. Request path: '"/css/DemandesListRequester.css"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\css\DemandesListRequester.css"' (27b0a520)
2024-11-27T15:36:14.8692339+01:00 0HN8EU2S584NO:00000019 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/DemandesListRequester.css""" - 200 3142 "text/css" 9.6464ms (74253ad3)
2024-11-27T15:36:16.7902615+01:00 0HN8EU2S584NO:0000001B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - null null (d509f86a)
2024-11-27T15:36:16.7922021+01:00 0HN8EU2S584NO:0000001B [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:36:16.7928304+01:00 0HN8EU2S584NO:0000001B [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:36:16.7961659+01:00 0HN8EU2S584NO:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:36:44.9434738+01:00 0HN8EU2S584NN:0000001B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:36:44.9450693+01:00 0HN8EU2S584NN:0000001B [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:36:44.9451880+01:00 0HN8EU2S584NN:0000001B [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:36:44.9456327+01:00 0HN8EU2S584NN:0000001B [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:36:44.9462273+01:00 0HN8EU2S584NN:0000001B [INF] Executed ViewResult - view "Acceuil" executed in 0.7457ms. (f66409e9)
2024-11-27T15:36:44.9462632+01:00 0HN8EU2S584NN:0000001B [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 1.0338ms (afa2e885)
2024-11-27T15:36:44.9462791+01:00 0HN8EU2S584NN:0000001B [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:36:44.9463575+01:00 0HN8EU2S584NN:0000001B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 2.9304ms (74253ad3)
2024-11-27T15:36:44.9537131+01:00 0HN8EU2S584NN:0000001D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:36:44.9545167+01:00 0HN8EU2S584NN:0000001D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 0.8453ms (74253ad3)
2024-11-27T15:36:44.9858882+01:00 0HN8EU2S584NN:0000001F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:36:44.9917851+01:00 0HN8EU2S584NN:0000001F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 6.0565ms (74253ad3)
2024-11-27T15:36:46.3833547+01:00 0HN8EU2S584NN:00000021 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:36:46.3849300+01:00 0HN8EU2S584NN:00000021 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:36:46.3850276+01:00 0HN8EU2S584NN:00000021 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:36:46.3853101+01:00 0HN8EU2S584NN:00000021 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:36:46.3866288+01:00 0HN8EU2S584NN:00000021 [INF] Executed ViewResult - view "Login" executed in 1.2854ms. (f66409e9)
2024-11-27T15:36:46.3867378+01:00 0HN8EU2S584NN:00000021 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 1.6695ms (afa2e885)
2024-11-27T15:36:46.3867543+01:00 0HN8EU2S584NN:00000021 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:36:46.3869058+01:00 0HN8EU2S584NN:00000021 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 3.7466ms (74253ad3)
2024-11-27T15:36:46.4105841+01:00 0HN8EU2S584NN:00000023 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:36:46.4111011+01:00 0HN8EU2S584NN:00000025 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:36:46.4114629+01:00 0HN8EU2S584NN:00000023 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.0999ms (74253ad3)
2024-11-27T15:36:46.4171455+01:00 0HN8EU2S584NN:00000025 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 6.2531ms (74253ad3)
2024-11-27T15:36:47.1019665+01:00 0HN8EU2S584NN:00000027 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 31 (d509f86a)
2024-11-27T15:36:47.1033017+01:00 0HN8EU2S584NN:00000027 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:36:47.1034135+01:00 0HN8EU2S584NN:00000027 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:36:47.1111772+01:00 0HN8EU2S584NN:00000027 [INF] Executed DbCommand ("6"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:36:47.1138297+01:00 0HN8EU2S584NN:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:36:47.1142653+01:00 0HN8EU2S584NN:00000027 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:36:47.1144942+01:00 0HN8EU2S584NN:00000027 [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:36:47.1145762+01:00 0HN8EU2S584NN:00000027 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 11.1026ms (afa2e885)
2024-11-27T15:36:47.1146083+01:00 0HN8EU2S584NN:00000027 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:36:47.1147706+01:00 0HN8EU2S584NN:00000027 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 13.0452ms (74253ad3)
2024-11-27T15:36:47.1182518+01:00 0HN8EU2S584NN:00000029 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:36:47.1193969+01:00 0HN8EU2S584NN:00000029 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:36:47.1194601+01:00 0HN8EU2S584NN:00000029 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:36:47.1377900+01:00 0HN8EU2S584NN:00000029 [INF] Executed DbCommand ("17"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:36:47.1388902+01:00 0HN8EU2S584NN:00000029 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:36:47.1393725+01:00 0HN8EU2S584NN:00000029 [INF] Executed ViewResult - view "DemandesListRequester" executed in 0.5129ms. (f66409e9)
2024-11-27T15:36:47.1394322+01:00 0HN8EU2S584NN:00000029 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 19.9491ms (afa2e885)
2024-11-27T15:36:47.1394599+01:00 0HN8EU2S584NN:00000029 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:36:47.1395192+01:00 0HN8EU2S584NN:00000029 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:36:47.1395528+01:00 0HN8EU2S584NN:00000029 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:36:47.1396623+01:00 0HN8EU2S584NN:00000029 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 21.5313ms (74253ad3)
2024-11-27T15:38:19.6579888+01:00  [INF] User profile is available. Using '"C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-11-27T15:38:19.8405710+01:00  [INF] Now listening on: "https://localhost:7025" (d826f4b8)
2024-11-27T15:38:19.8407435+01:00  [INF] Now listening on: "http://localhost:5222" (d826f4b8)
2024-11-27T15:38:19.8670752+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-11-27T15:38:19.8673696+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-11-27T15:38:19.8673933+01:00  [INF] Content root path: "C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web" (cc26f24e)
2024-11-27T15:38:20.2320188+01:00 0HN8EU4HL5PJ7:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - null null (d509f86a)
2024-11-27T15:38:20.3719223+01:00 0HN8EU4HL5PJ7:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - 404 0 null 142.9557ms (74253ad3)
2024-11-27T15:38:20.3731648+01:00 0HN8EU4HL5PJ7:00000001 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7025""""/index.html", Response status code: 404 (e353595a)
2024-11-27T15:38:24.3622938+01:00 0HN8EU4HL5PJ8:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:38:24.3694182+01:00 0HN8EU4HL5PJ8:00000001 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:38:24.3782378+01:00 0HN8EU4HL5PJ8:00000001 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:38:24.4833105+01:00 0HN8EU4HL5PJ8:00000001 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:38:24.5034441+01:00 0HN8EU4HL5PJ8:00000001 [INF] Executed ViewResult - view "Acceuil" executed in 21.0277ms. (f66409e9)
2024-11-27T15:38:24.5039308+01:00 0HN8EU4HL5PJ8:00000001 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 125.3587ms (afa2e885)
2024-11-27T15:38:24.5039948+01:00 0HN8EU4HL5PJ8:00000001 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:38:24.5058632+01:00 0HN8EU4HL5PJ8:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 143.6794ms (74253ad3)
2024-11-27T15:38:24.5148552+01:00 0HN8EU4HL5PJ8:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/Acceuil.css""" - null null (d509f86a)
2024-11-27T15:38:24.5150031+01:00 0HN8EU4HL5PJ8:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/images/HCP1.jpeg""" - null null (d509f86a)
2024-11-27T15:38:24.5150143+01:00 0HN8EU4HL5PJ8:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:38:24.5171210+01:00 0HN8EU4HL5PJ8:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:38:24.5375578+01:00 0HN8EU4HL5PJ8:00000003 [INF] Sending file. Request path: '"/css/Acceuil.css"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\css\Acceuil.css"' (27b0a520)
2024-11-27T15:38:24.5389051+01:00 0HN8EU4HL5PJ8:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/Acceuil.css""" - 200 1366 "text/css" 24.2978ms (74253ad3)
2024-11-27T15:38:24.5399106+01:00 0HN8EU4HL5PJ8:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 25.0746ms (74253ad3)
2024-11-27T15:38:24.5421660+01:00 0HN8EU4HL5PJ8:00000005 [INF] Sending file. Request path: '"/images/HCP1.jpeg"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\images\HCP1.jpeg"' (27b0a520)
2024-11-27T15:38:24.5428553+01:00 0HN8EU4HL5PJ8:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/images/HCP1.jpeg""" - 200 13452 "image/jpeg" 28.1567ms (74253ad3)
2024-11-27T15:38:24.5576906+01:00 0HN8EU4HL5PJ8:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 41.4241ms (74253ad3)
2024-11-27T15:38:24.6814681+01:00 0HN8EU4HL5PJ8:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/favicon.ico""" - null null (d509f86a)
2024-11-27T15:38:24.6855722+01:00 0HN8EU4HL5PJ8:0000000B [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\favicon.ico"' (27b0a520)
2024-11-27T15:38:24.6858286+01:00 0HN8EU4HL5PJ8:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/favicon.ico""" - 200 5430 "image/x-icon" 4.4451ms (74253ad3)
2024-11-27T15:38:26.2967342+01:00 0HN8EU4HL5PJ8:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:38:26.3022495+01:00 0HN8EU4HL5PJ8:0000000D [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:38:26.3036375+01:00 0HN8EU4HL5PJ8:0000000D [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:38:26.3081985+01:00 0HN8EU4HL5PJ8:0000000D [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:38:26.3126584+01:00 0HN8EU4HL5PJ8:0000000D [INF] Executed ViewResult - view "Login" executed in 4.8927ms. (f66409e9)
2024-11-27T15:38:26.3127497+01:00 0HN8EU4HL5PJ8:0000000D [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 9.058ms (afa2e885)
2024-11-27T15:38:26.3127817+01:00 0HN8EU4HL5PJ8:0000000D [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:38:26.3128900+01:00 0HN8EU4HL5PJ8:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 16.4043ms (74253ad3)
2024-11-27T15:38:26.3216159+01:00 0HN8EU4HL5PJ8:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/Login.css""" - null null (d509f86a)
2024-11-27T15:38:26.3216278+01:00 0HN8EU4HL5PJ8:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:38:26.3216245+01:00 0HN8EU4HL5PJ8:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:38:26.3222256+01:00 0HN8EU4HL5PJ8:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 0.7774ms (74253ad3)
2024-11-27T15:38:26.3234231+01:00 0HN8EU4HL5PJ8:0000000F [INF] Sending file. Request path: '"/css/Login.css"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\css\Login.css"' (27b0a520)
2024-11-27T15:38:26.3235635+01:00 0HN8EU4HL5PJ8:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/Login.css""" - 200 1625 "text/css" 2.1655ms (74253ad3)
2024-11-27T15:38:26.3336421+01:00 0HN8EU4HL5PJ8:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 12.1269ms (74253ad3)
2024-11-27T15:38:29.7501334+01:00 0HN8EU4HL5PJ8:00000015 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 47 (d509f86a)
2024-11-27T15:38:29.7532329+01:00 0HN8EU4HL5PJ8:00000015 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:38:29.7595046+01:00 0HN8EU4HL5PJ8:00000015 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:38:30.5326120+01:00 0HN8EU4HL5PJ8:00000015 [INF] Executed DbCommand ("35"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:38:30.5972374+01:00 0HN8EU4HL5PJ8:00000015 [INF] Executed DbCommand ("3"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:38:30.6010740+01:00 0HN8EU4HL5PJ8:00000015 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:38:30.6099612+01:00 0HN8EU4HL5PJ8:00000015 [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:38:30.6104389+01:00 0HN8EU4HL5PJ8:00000015 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 850.8795ms (afa2e885)
2024-11-27T15:38:30.6105960+01:00 0HN8EU4HL5PJ8:00000015 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:38:30.6137798+01:00 0HN8EU4HL5PJ8:00000017 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:38:30.6141396+01:00 0HN8EU4HL5PJ8:00000015 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 864.4032ms (74253ad3)
2024-11-27T15:38:30.6177669+01:00 0HN8EU4HL5PJ8:00000017 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:38:30.6196763+01:00 0HN8EU4HL5PJ8:00000017 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:38:30.7030203+01:00 0HN8EU4HL5PJ8:00000017 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:38:30.7288187+01:00 0HN8EU4HL5PJ8:00000017 [INF] Executed DbCommand ("15"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:38:30.8332802+01:00 0HN8EU4HL5PJ8:00000017 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:38:30.8376422+01:00 0HN8EU4HL5PJ8:00000017 [INF] Executed ViewResult - view "DemandesListRequester" executed in 4.6804ms. (f66409e9)
2024-11-27T15:38:30.8377237+01:00 0HN8EU4HL5PJ8:00000017 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 218.0109ms (afa2e885)
2024-11-27T15:38:30.8377480+01:00 0HN8EU4HL5PJ8:00000017 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:38:30.8380879+01:00 0HN8EU4HL5PJ8:00000017 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:38:30.8382385+01:00 0HN8EU4HL5PJ8:00000017 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:38:30.8384056+01:00 0HN8EU4HL5PJ8:00000017 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 224.7047ms (74253ad3)
2024-11-27T15:38:30.8467610+01:00 0HN8EU4HL5PJ8:00000019 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/DemandesListRequester.css""" - null null (d509f86a)
2024-11-27T15:38:30.8479454+01:00 0HN8EU4HL5PJ8:00000019 [INF] Sending file. Request path: '"/css/DemandesListRequester.css"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\css\DemandesListRequester.css"' (27b0a520)
2024-11-27T15:38:30.8481179+01:00 0HN8EU4HL5PJ8:00000019 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/DemandesListRequester.css""" - 200 3142 "text/css" 1.6347ms (74253ad3)
2024-11-27T15:38:35.3691247+01:00 0HN8EU4HL5PJ8:0000001B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - null null (d509f86a)
2024-11-27T15:38:35.3715284+01:00 0HN8EU4HL5PJ8:0000001B [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:38:35.3737401+01:00 0HN8EU4HL5PJ8:0000001B [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:38:35.4297282+01:00 0HN8EU4HL5PJ8:0000001B [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:38:35.4460768+01:00 0HN8EU4HL5PJ8:0000001B [INF] Executed DbCommand ("9"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:38:35.8556059+01:00 0HN8EU4HL5PJ8:0000001B [INF] Executing "FileContentResult", sending file with download name '"Demande_1/2024.pdf"' ... (3ade02d2)
2024-11-27T15:38:35.8604696+01:00 0HN8EU4HL5PJ8:0000001B [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 486.6428ms (afa2e885)
2024-11-27T15:38:35.8605153+01:00 0HN8EU4HL5PJ8:0000001B [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:38:35.8606844+01:00 0HN8EU4HL5PJ8:0000001B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - 200 18841 "application/pdf" 491.6064ms (74253ad3)
2024-11-27T15:38:48.0885343+01:00 0HN8EU4HL5PJ8:0000001D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - null null (d509f86a)
2024-11-27T15:38:48.0931569+01:00 0HN8EU4HL5PJ8:0000001D [INF] Executing endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (500cc934)
2024-11-27T15:38:48.0940377+01:00 0HN8EU4HL5PJ8:0000001D [INF] Route matched with "{action = \"CreateDemande\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult CreateDemande()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:38:48.1079072+01:00 0HN8EU4HL5PJ8:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Name]
FROM (
    SELECT DISTINCT [p].[Id], [p].[CreatedBy], [p].[CreatedDate], [p].[IsDeleted], [p].[ModifiedBy], [p].[ModifiedDate], [p].[Name]
    FROM [Produits] AS [p]
) AS [t]" (0723d8ff)
2024-11-27T15:38:48.1099192+01:00 0HN8EU4HL5PJ8:0000001D [INF] Executing ViewResult, running view "CreateDemande". (c83d0e25)
2024-11-27T15:38:48.1127824+01:00 0HN8EU4HL5PJ8:0000001D [INF] Executed ViewResult - view "CreateDemande" executed in 3.2708ms. (f66409e9)
2024-11-27T15:38:48.1128241+01:00 0HN8EU4HL5PJ8:0000001D [INF] Executed action "DemandesController.CreateDemande (StockManagement.Web)" in 18.7562ms (afa2e885)
2024-11-27T15:38:48.1128485+01:00 0HN8EU4HL5PJ8:0000001D [INF] Executed endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (99874f2b)
2024-11-27T15:38:48.1128925+01:00 0HN8EU4HL5PJ8:0000001D [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:38:48.1129120+01:00 0HN8EU4HL5PJ8:0000001D [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:38:48.1130167+01:00 0HN8EU4HL5PJ8:0000001D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - 200 null "text/html; charset=utf-8" 24.5599ms (74253ad3)
2024-11-27T15:38:48.1255395+01:00 0HN8EU4HL5PJ8:0000001F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/CreateDemande.css""" - null null (d509f86a)
2024-11-27T15:38:48.1445289+01:00 0HN8EU4HL5PJ8:0000001F [INF] Sending file. Request path: '"/css/CreateDemande.css"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\css\CreateDemande.css"' (27b0a520)
2024-11-27T15:38:48.1446182+01:00 0HN8EU4HL5PJ8:0000001F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/CreateDemande.css""" - 200 2292 "text/css" 19.5883ms (74253ad3)
2024-11-27T15:38:53.2741338+01:00 0HN8EU4HL5PJ8:00000021 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - "application/x-www-form-urlencoded" 421 (d509f86a)
2024-11-27T15:38:53.2783388+01:00 0HN8EU4HL5PJ8:00000021 [INF] Executing endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (500cc934)
2024-11-27T15:38:53.2829605+01:00 0HN8EU4HL5PJ8:00000021 [INF] Route matched with "{action = \"CreateDemande\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDemande(StockManagement.Application.Features.Demandes.DTOs.CreateDemandeDTO)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:38:53.3196755+01:00 0HN8EU4HL5PJ8:00000021 [INF] Executed DbCommand ("7"ms) [Parameters=["@__currentYear_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Demandes] AS [d]
WHERE [d].[CreatedDate] IS NOT NULL AND DATEPART(year, [d].[CreatedDate]) = @__currentYear_0" (0723d8ff)
2024-11-27T15:38:53.3309853+01:00 0HN8EU4HL5PJ8:00000021 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[StatusName]
FROM [StatusDemandes] AS [s]
WHERE [s].[StatusName] = N'En cours de traitement'" (0723d8ff)
2024-11-27T15:38:53.4294420+01:00 0HN8EU4HL5PJ8:00000021 [INF] Executed DbCommand ("11"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Guid), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (Size = 4000), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Guid), @p22='?' (DbType = Boolean), @p23='?' (Size = 4000), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Demandes] ([Id], [CreatedBy], [CreatedDate], [DemandeNumber], [IsDeleted], [ModifiedBy], [ModifiedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [DemandeProduits] ([Id], [CreatedBy], [CreatedDate], [DemandeId], [IsDeleted], [Livré], [ModifiedBy], [ModifiedDate], [ProduitId], [Quantité])
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO [HistoriqueStatusDemandes] ([Id], [CreatedBy], [CreatedDate], [DemandeId], [IsDeleted], [ModifiedBy], [ModifiedDate], [StatusDemandeId])
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);" (0723d8ff)
2024-11-27T15:38:53.4425022+01:00 0HN8EU4HL5PJ8:00000021 [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:38:53.4425799+01:00 0HN8EU4HL5PJ8:00000021 [INF] Executed action "DemandesController.CreateDemande (StockManagement.Web)" in 159.5661ms (afa2e885)
2024-11-27T15:38:53.4426015+01:00 0HN8EU4HL5PJ8:00000021 [INF] Executed endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (99874f2b)
2024-11-27T15:38:53.4427284+01:00 0HN8EU4HL5PJ8:00000021 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - 302 0 null 168.8583ms (74253ad3)
2024-11-27T15:38:53.4454697+01:00 0HN8EU4HL5PJ8:00000023 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:38:53.4470665+01:00 0HN8EU4HL5PJ8:00000023 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:38:53.4472478+01:00 0HN8EU4HL5PJ8:00000023 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:38:53.4778888+01:00 0HN8EU4HL5PJ8:00000023 [INF] Executed DbCommand ("26"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:38:53.4819535+01:00 0HN8EU4HL5PJ8:00000023 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:38:53.4828662+01:00 0HN8EU4HL5PJ8:00000023 [INF] Executed ViewResult - view "DemandesListRequester" executed in 1.0951ms. (f66409e9)
2024-11-27T15:38:53.4829132+01:00 0HN8EU4HL5PJ8:00000023 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 35.6326ms (afa2e885)
2024-11-27T15:38:53.4829347+01:00 0HN8EU4HL5PJ8:00000023 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:38:53.4829901+01:00 0HN8EU4HL5PJ8:00000023 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:38:53.4830086+01:00 0HN8EU4HL5PJ8:00000023 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:38:53.4830906+01:00 0HN8EU4HL5PJ8:00000023 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 37.6866ms (74253ad3)
2024-11-27T15:39:02.6776051+01:00 0HN8EU4HL5PJ8:00000025 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=33d6d5f5-2bb3-4fff-8213-c63906107aff" - null null (d509f86a)
2024-11-27T15:39:02.6821113+01:00 0HN8EU4HL5PJ8:00000025 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:39:02.6824930+01:00 0HN8EU4HL5PJ8:00000025 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:39:02.7179730+01:00 0HN8EU4HL5PJ8:00000025 [INF] Executed DbCommand ("32"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:46:17.2224924+01:00  [INF] User profile is available. Using '"C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-11-27T15:46:17.4032061+01:00  [INF] Now listening on: "https://localhost:7025" (d826f4b8)
2024-11-27T15:46:17.4033278+01:00  [INF] Now listening on: "http://localhost:5222" (d826f4b8)
2024-11-27T15:46:17.4305718+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-11-27T15:46:17.4308007+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-11-27T15:46:17.4308239+01:00  [INF] Content root path: "C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web" (cc26f24e)
2024-11-27T15:46:17.7981601+01:00 0HN8EU900LONT:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - null null (d509f86a)
2024-11-27T15:46:17.9206344+01:00 0HN8EU900LONT:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - 404 0 null 125.668ms (74253ad3)
2024-11-27T15:46:17.9215334+01:00 0HN8EU900LONT:00000001 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7025""""/index.html", Response status code: 404 (e353595a)
2024-11-27T15:46:20.2051479+01:00 0HN8EU900LONT:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:46:20.2170892+01:00 0HN8EU900LONT:00000003 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:46:20.2260527+01:00 0HN8EU900LONT:00000003 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:46:20.3436292+01:00 0HN8EU900LONT:00000003 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:46:20.3655330+01:00 0HN8EU900LONT:00000003 [INF] Executed ViewResult - view "Acceuil" executed in 22.4954ms. (f66409e9)
2024-11-27T15:46:20.3660199+01:00 0HN8EU900LONT:00000003 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 139.6201ms (afa2e885)
2024-11-27T15:46:20.3660870+01:00 0HN8EU900LONT:00000003 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:46:20.3679843+01:00 0HN8EU900LONT:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 162.8746ms (74253ad3)
2024-11-27T15:46:20.4046088+01:00 0HN8EU900LONT:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:46:20.4049544+01:00 0HN8EU900LONT:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:46:20.4213380+01:00 0HN8EU900LONT:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 16.78ms (74253ad3)
2024-11-27T15:46:20.4410236+01:00 0HN8EU900LONT:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 36.1849ms (74253ad3)
2024-11-27T15:46:21.2199436+01:00 0HN8EU900LONT:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:46:21.2267312+01:00 0HN8EU900LONT:00000009 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:46:21.2282371+01:00 0HN8EU900LONT:00000009 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:46:21.2340772+01:00 0HN8EU900LONT:00000009 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:46:21.2394802+01:00 0HN8EU900LONT:00000009 [INF] Executed ViewResult - view "Login" executed in 5.8795ms. (f66409e9)
2024-11-27T15:46:21.2396214+01:00 0HN8EU900LONT:00000009 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 11.3061ms (afa2e885)
2024-11-27T15:46:21.2396471+01:00 0HN8EU900LONT:00000009 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:46:21.2397520+01:00 0HN8EU900LONT:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 20.267ms (74253ad3)
2024-11-27T15:46:21.2638322+01:00 0HN8EU900LONT:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:46:21.2648014+01:00 0HN8EU900LONT:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.1687ms (74253ad3)
2024-11-27T15:46:21.2656129+01:00 0HN8EU900LONT:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:46:21.2853872+01:00 0HN8EU900LONT:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 19.8654ms (74253ad3)
2024-11-27T15:46:22.1131002+01:00 0HN8EU900LONT:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 31 (d509f86a)
2024-11-27T15:46:22.1161916+01:00 0HN8EU900LONT:0000000F [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:46:22.1280881+01:00 0HN8EU900LONT:0000000F [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:46:22.9578477+01:00 0HN8EU900LONT:0000000F [INF] Executed DbCommand ("37"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:46:23.0195945+01:00 0HN8EU900LONT:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:46:23.0231980+01:00 0HN8EU900LONT:0000000F [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:46:23.0329457+01:00 0HN8EU900LONT:0000000F [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:46:23.0334637+01:00 0HN8EU900LONT:0000000F [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 905.2675ms (afa2e885)
2024-11-27T15:46:23.0336224+01:00 0HN8EU900LONT:0000000F [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:46:23.0369567+01:00 0HN8EU900LONT:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 924.1474ms (74253ad3)
2024-11-27T15:46:23.0374282+01:00 0HN8EU900LONT:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:46:23.0416204+01:00 0HN8EU900LONT:00000011 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:46:23.0438408+01:00 0HN8EU900LONT:00000011 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:46:23.1500611+01:00 0HN8EU900LONT:00000011 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:46:23.1771127+01:00 0HN8EU900LONT:00000011 [INF] Executed DbCommand ("15"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:46:23.2952141+01:00 0HN8EU900LONT:00000011 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:46:23.2990722+01:00 0HN8EU900LONT:00000011 [INF] Executed ViewResult - view "DemandesListRequester" executed in 4.122ms. (f66409e9)
2024-11-27T15:46:23.2991608+01:00 0HN8EU900LONT:00000011 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 255.2652ms (afa2e885)
2024-11-27T15:46:23.2991951+01:00 0HN8EU900LONT:00000011 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:46:23.2994901+01:00 0HN8EU900LONT:00000011 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:46:23.2996390+01:00 0HN8EU900LONT:00000011 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:46:23.2998022+01:00 0HN8EU900LONT:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 262.5137ms (74253ad3)
2024-11-27T15:46:25.3601407+01:00 0HN8EU900LONT:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - null null (d509f86a)
2024-11-27T15:46:25.3623468+01:00 0HN8EU900LONT:00000013 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:46:25.3665278+01:00 0HN8EU900LONT:00000013 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:46:25.4286137+01:00 0HN8EU900LONT:00000013 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:46:25.4452979+01:00 0HN8EU900LONT:00000013 [INF] Executed DbCommand ("8"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:46:25.8356804+01:00 0HN8EU900LONT:00000013 [INF] Executing "FileContentResult", sending file with download name '"Demande_1/2024.pdf"' ... (3ade02d2)
2024-11-27T15:46:25.8427100+01:00 0HN8EU900LONT:00000013 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 476.0977ms (afa2e885)
2024-11-27T15:46:25.8427829+01:00 0HN8EU900LONT:00000013 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:46:25.8429502+01:00 0HN8EU900LONT:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - 200 18841 "application/pdf" 482.923ms (74253ad3)
2024-11-27T15:46:34.0685500+01:00 0HN8EU900LONT:00000015 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - null null (d509f86a)
2024-11-27T15:46:34.0708157+01:00 0HN8EU900LONT:00000015 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:46:34.0709458+01:00 0HN8EU900LONT:00000015 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:46:34.0973577+01:00 0HN8EU900LONT:00000015 [INF] Executed DbCommand ("22"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:46:34.3758881+01:00 0HN8EU900LONT:00000015 [INF] Executing "FileContentResult", sending file with download name '"Demande_1/2024.pdf"' ... (3ade02d2)
2024-11-27T15:46:34.3771618+01:00 0HN8EU900LONT:00000015 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 306.1643ms (afa2e885)
2024-11-27T15:46:34.3772116+01:00 0HN8EU900LONT:00000015 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:46:34.3774155+01:00 0HN8EU900LONT:00000015 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - 200 18841 "application/pdf" 309.035ms (74253ad3)
2024-11-27T15:46:40.6448027+01:00 0HN8EU900LONT:00000017 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - null null (d509f86a)
2024-11-27T15:46:40.6468836+01:00 0HN8EU900LONT:00000017 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:46:40.6469653+01:00 0HN8EU900LONT:00000017 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:46:40.6668166+01:00 0HN8EU900LONT:00000017 [INF] Executed DbCommand ("18"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:46:40.9585628+01:00 0HN8EU900LONT:00000017 [INF] Executing "FileContentResult", sending file with download name '"Demande_1/2024.pdf"' ... (3ade02d2)
2024-11-27T15:46:40.9593596+01:00 0HN8EU900LONT:00000017 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 312.3531ms (afa2e885)
2024-11-27T15:46:40.9593924+01:00 0HN8EU900LONT:00000017 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:46:40.9595187+01:00 0HN8EU900LONT:00000017 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - 200 18841 "application/pdf" 315.0183ms (74253ad3)
2024-11-27T15:46:44.8342595+01:00 0HN8EU900LONT:00000019 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=33d6d5f5-2bb3-4fff-8213-c63906107aff" - null null (d509f86a)
2024-11-27T15:46:44.8365349+01:00 0HN8EU900LONT:00000019 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:46:44.8367137+01:00 0HN8EU900LONT:00000019 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:46:44.8401973+01:00 0HN8EU900LONT:00000019 [INF] Executed DbCommand ("2"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:46:45.1748560+01:00 0HN8EU900LONT:00000019 [INF] Executing "FileContentResult", sending file with download name '"Demande_2/2024.pdf"' ... (3ade02d2)
2024-11-27T15:46:45.1760997+01:00 0HN8EU900LONT:00000019 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 339.3121ms (afa2e885)
2024-11-27T15:46:45.1761353+01:00 0HN8EU900LONT:00000019 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:46:45.1762721+01:00 0HN8EU900LONT:00000019 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=33d6d5f5-2bb3-4fff-8213-c63906107aff" - 200 18352 "application/pdf" 342.2855ms (74253ad3)
2024-11-27T15:46:53.5034863+01:00 0HN8EU900LONT:0000001B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - null null (d509f86a)
2024-11-27T15:46:53.5112208+01:00 0HN8EU900LONT:0000001B [INF] Executing endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (500cc934)
2024-11-27T15:46:53.5140505+01:00 0HN8EU900LONT:0000001B [INF] Route matched with "{action = \"CreateDemande\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult CreateDemande()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:46:53.5338531+01:00 0HN8EU900LONT:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Name]
FROM (
    SELECT DISTINCT [p].[Id], [p].[CreatedBy], [p].[CreatedDate], [p].[IsDeleted], [p].[ModifiedBy], [p].[ModifiedDate], [p].[Name]
    FROM [Produits] AS [p]
) AS [t]" (0723d8ff)
2024-11-27T15:46:53.5368760+01:00 0HN8EU900LONT:0000001B [INF] Executing ViewResult, running view "CreateDemande". (c83d0e25)
2024-11-27T15:46:53.5399456+01:00 0HN8EU900LONT:0000001B [INF] Executed ViewResult - view "CreateDemande" executed in 3.5135ms. (f66409e9)
2024-11-27T15:46:53.5399901+01:00 0HN8EU900LONT:0000001B [INF] Executed action "DemandesController.CreateDemande (StockManagement.Web)" in 25.8679ms (afa2e885)
2024-11-27T15:46:53.5400096+01:00 0HN8EU900LONT:0000001B [INF] Executed endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (99874f2b)
2024-11-27T15:46:53.5400605+01:00 0HN8EU900LONT:0000001B [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:46:53.5400793+01:00 0HN8EU900LONT:0000001B [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:46:53.5401918+01:00 0HN8EU900LONT:0000001B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - 200 null "text/html; charset=utf-8" 37.2305ms (74253ad3)
2024-11-27T15:46:59.1042736+01:00 0HN8EU900LONT:0000001D [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - "application/x-www-form-urlencoded" 423 (d509f86a)
2024-11-27T15:46:59.1076695+01:00 0HN8EU900LONT:0000001D [INF] Executing endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (500cc934)
2024-11-27T15:46:59.1144243+01:00 0HN8EU900LONT:0000001D [INF] Route matched with "{action = \"CreateDemande\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateDemande(StockManagement.Application.Features.Demandes.DTOs.CreateDemandeDTO)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:46:59.1494186+01:00 0HN8EU900LONT:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__currentYear_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Demandes] AS [d]
WHERE [d].[CreatedDate] IS NOT NULL AND DATEPART(year, [d].[CreatedDate]) = @__currentYear_0" (0723d8ff)
2024-11-27T15:46:59.1590176+01:00 0HN8EU900LONT:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[StatusName]
FROM [StatusDemandes] AS [s]
WHERE [s].[StatusName] = N'En cours de traitement'" (0723d8ff)
2024-11-27T15:46:59.2599442+01:00 0HN8EU900LONT:0000001D [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?' (Size = 4000), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Guid), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = Int32), @p18='?' (DbType = Guid), @p19='?' (Size = 4000), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Guid), @p22='?' (DbType = Boolean), @p23='?' (DbType = Int32), @p24='?' (Size = 4000), @p25='?' (DbType = DateTime2), @p26='?' (DbType = Guid), @p27='?' (DbType = Int32), @p28='?' (DbType = Guid), @p29='?' (Size = 4000), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Guid), @p32='?' (DbType = Boolean), @p33='?' (DbType = Int32), @p34='?' (Size = 4000), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Int32), @p38='?' (DbType = Guid), @p39='?' (Size = 4000), @p40='?' (DbType = DateTime2), @p41='?' (DbType = Guid), @p42='?' (DbType = Boolean), @p43='?' (Size = 4000), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Demandes] ([Id], [CreatedBy], [CreatedDate], [DemandeNumber], [IsDeleted], [ModifiedBy], [ModifiedDate], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
INSERT INTO [DemandeProduits] ([Id], [CreatedBy], [CreatedDate], [DemandeId], [IsDeleted], [Livré], [ModifiedBy], [ModifiedDate], [ProduitId], [Quantité])
VALUES (@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17),
(@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37);
INSERT INTO [HistoriqueStatusDemandes] ([Id], [CreatedBy], [CreatedDate], [DemandeId], [IsDeleted], [ModifiedBy], [ModifiedDate], [StatusDemandeId])
VALUES (@p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45);" (0723d8ff)
2024-11-27T15:46:59.2740176+01:00 0HN8EU900LONT:0000001D [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:46:59.2741081+01:00 0HN8EU900LONT:0000001D [INF] Executed action "DemandesController.CreateDemande (StockManagement.Web)" in 159.6432ms (afa2e885)
2024-11-27T15:46:59.2741279+01:00 0HN8EU900LONT:0000001D [INF] Executed endpoint '"DemandesController.CreateDemande (StockManagement.Web)"' (99874f2b)
2024-11-27T15:46:59.2742616+01:00 0HN8EU900LONT:0000001D [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Demandes/CreateDemande""" - 302 0 null 170.3489ms (74253ad3)
2024-11-27T15:46:59.2768889+01:00 0HN8EU900LONT:0000001F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:46:59.2782050+01:00 0HN8EU900LONT:0000001F [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:46:59.2782757+01:00 0HN8EU900LONT:0000001F [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:46:59.2913839+01:00 0HN8EU900LONT:0000001F [INF] Executed DbCommand ("12"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:46:59.2930091+01:00 0HN8EU900LONT:0000001F [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:46:59.3006911+01:00 0HN8EU900LONT:0000001F [INF] Executed ViewResult - view "DemandesListRequester" executed in 7.6919ms. (f66409e9)
2024-11-27T15:46:59.3019723+01:00 0HN8EU900LONT:0000001F [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 23.6337ms (afa2e885)
2024-11-27T15:46:59.3020414+01:00 0HN8EU900LONT:0000001F [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:46:59.3021273+01:00 0HN8EU900LONT:0000001F [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:46:59.3021844+01:00 0HN8EU900LONT:0000001F [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:46:59.3023982+01:00 0HN8EU900LONT:0000001F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 25.6169ms (74253ad3)
2024-11-27T15:47:01.0171499+01:00 0HN8EU900LONT:00000021 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=bea5a202-566e-4dc6-9e92-54889c0dd1a1" - null null (d509f86a)
2024-11-27T15:47:01.0191344+01:00 0HN8EU900LONT:00000021 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:47:01.0192680+01:00 0HN8EU900LONT:00000021 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:47:01.0231925+01:00 0HN8EU900LONT:00000021 [INF] Executed DbCommand ("2"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:47:01.3109992+01:00 0HN8EU900LONT:00000021 [INF] Executing "FileContentResult", sending file with download name '"Demande_3/2024.pdf"' ... (3ade02d2)
2024-11-27T15:47:01.3121494+01:00 0HN8EU900LONT:00000021 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 292.7584ms (afa2e885)
2024-11-27T15:47:01.3122322+01:00 0HN8EU900LONT:00000021 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:47:01.3125067+01:00 0HN8EU900LONT:00000021 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=bea5a202-566e-4dc6-9e92-54889c0dd1a1" - 200 18448 "application/pdf" 295.4164ms (74253ad3)
2024-11-27T15:57:47.6641000+01:00  [INF] User profile is available. Using '"C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-11-27T15:57:47.8391922+01:00  [INF] Now listening on: "https://localhost:7025" (d826f4b8)
2024-11-27T15:57:47.8393065+01:00  [INF] Now listening on: "http://localhost:5222" (d826f4b8)
2024-11-27T15:57:47.8644071+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-11-27T15:57:47.8646628+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-11-27T15:57:47.8646868+01:00  [INF] Content root path: "C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web" (cc26f24e)
2024-11-27T15:57:48.1948660+01:00 0HN8EUFDOHN2D:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - null null (d509f86a)
2024-11-27T15:57:48.3278883+01:00 0HN8EUFDOHN2D:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - 404 0 null 136.0277ms (74253ad3)
2024-11-27T15:57:48.3287849+01:00 0HN8EUFDOHN2D:00000001 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7025""""/index.html", Response status code: 404 (e353595a)
2024-11-27T15:57:50.0012844+01:00 0HN8EUFDOHN2D:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:57:50.0094618+01:00 0HN8EUFDOHN2D:00000003 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:57:50.0218062+01:00 0HN8EUFDOHN2D:00000003 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:57:50.1422204+01:00 0HN8EUFDOHN2D:00000003 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:57:50.1643003+01:00 0HN8EUFDOHN2D:00000003 [INF] Executed ViewResult - view "Acceuil" executed in 22.6553ms. (f66409e9)
2024-11-27T15:57:50.1648111+01:00 0HN8EUFDOHN2D:00000003 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 142.6149ms (afa2e885)
2024-11-27T15:57:50.1648802+01:00 0HN8EUFDOHN2D:00000003 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:57:50.1672283+01:00 0HN8EUFDOHN2D:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 166.1911ms (74253ad3)
2024-11-27T15:57:50.2025530+01:00 0HN8EUFDOHN2D:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:57:50.2027356+01:00 0HN8EUFDOHN2D:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:57:50.2161580+01:00 0HN8EUFDOHN2D:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 14.0479ms (74253ad3)
2024-11-27T15:57:50.2360508+01:00 0HN8EUFDOHN2D:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 33.4796ms (74253ad3)
2024-11-27T15:57:51.1587248+01:00 0HN8EUFDOHN2D:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:57:51.1647784+01:00 0HN8EUFDOHN2D:00000009 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:57:51.1666623+01:00 0HN8EUFDOHN2D:00000009 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:57:51.1716887+01:00 0HN8EUFDOHN2D:00000009 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:57:51.1768185+01:00 0HN8EUFDOHN2D:00000009 [INF] Executed ViewResult - view "Login" executed in 5.5603ms. (f66409e9)
2024-11-27T15:57:51.1769594+01:00 0HN8EUFDOHN2D:00000009 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 10.0305ms (afa2e885)
2024-11-27T15:57:51.1769895+01:00 0HN8EUFDOHN2D:00000009 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:57:51.1770987+01:00 0HN8EUFDOHN2D:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 18.9532ms (74253ad3)
2024-11-27T15:57:51.2001021+01:00 0HN8EUFDOHN2D:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:57:51.2011784+01:00 0HN8EUFDOHN2D:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.1866ms (74253ad3)
2024-11-27T15:57:51.2016280+01:00 0HN8EUFDOHN2D:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:57:51.2172757+01:00 0HN8EUFDOHN2D:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 15.7838ms (74253ad3)
2024-11-27T15:57:52.3796121+01:00 0HN8EUFDOHN2D:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 31 (d509f86a)
2024-11-27T15:57:52.3849920+01:00 0HN8EUFDOHN2D:0000000F [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:57:52.3979280+01:00 0HN8EUFDOHN2D:0000000F [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:57:53.1992076+01:00 0HN8EUFDOHN2D:0000000F [INF] Executed DbCommand ("44"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:57:53.2801754+01:00 0HN8EUFDOHN2D:0000000F [INF] Executed DbCommand ("5"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:57:53.2867096+01:00 0HN8EUFDOHN2D:0000000F [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:57:53.2983308+01:00 0HN8EUFDOHN2D:0000000F [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:57:53.2989876+01:00 0HN8EUFDOHN2D:0000000F [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 900.9715ms (afa2e885)
2024-11-27T15:57:53.2991437+01:00 0HN8EUFDOHN2D:0000000F [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:57:53.3027942+01:00 0HN8EUFDOHN2D:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:57:53.3055674+01:00 0HN8EUFDOHN2D:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 925.9269ms (74253ad3)
2024-11-27T15:57:53.3091831+01:00 0HN8EUFDOHN2D:00000011 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:57:53.3113320+01:00 0HN8EUFDOHN2D:00000011 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:57:53.4213613+01:00 0HN8EUFDOHN2D:00000011 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:57:53.4475234+01:00 0HN8EUFDOHN2D:00000011 [INF] Executed DbCommand ("15"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name], [t1].[Unites]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name], [p].[Unites]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:57:53.5564358+01:00 0HN8EUFDOHN2D:00000011 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:57:53.5685136+01:00 0HN8EUFDOHN2D:00000011 [INF] Executed ViewResult - view "DemandesListRequester" executed in 12.394ms. (f66409e9)
2024-11-27T15:57:53.5695622+01:00 0HN8EUFDOHN2D:00000011 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 258.137ms (afa2e885)
2024-11-27T15:57:53.5696367+01:00 0HN8EUFDOHN2D:00000011 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:57:53.5702210+01:00 0HN8EUFDOHN2D:00000011 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:57:53.5704911+01:00 0HN8EUFDOHN2D:00000011 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:57:53.5707278+01:00 0HN8EUFDOHN2D:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 268.1423ms (74253ad3)
2024-11-27T15:58:03.5404799+01:00 0HN8EUFDOHN2D:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=bea5a202-566e-4dc6-9e92-54889c0dd1a1" - null null (d509f86a)
2024-11-27T15:58:03.5434164+01:00 0HN8EUFDOHN2D:00000013 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:58:03.5456892+01:00 0HN8EUFDOHN2D:00000013 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:58:03.5997113+01:00 0HN8EUFDOHN2D:00000013 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:58:03.6169480+01:00 0HN8EUFDOHN2D:00000013 [INF] Executed DbCommand ("8"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name], [t2].[Unites]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name], [p].[Unites]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T15:58:04.0242324+01:00 0HN8EUFDOHN2D:00000013 [INF] Executing "FileContentResult", sending file with download name '"Demande_3/2024.pdf"' ... (3ade02d2)
2024-11-27T15:58:04.0304633+01:00 0HN8EUFDOHN2D:00000013 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 484.6974ms (afa2e885)
2024-11-27T15:58:04.0305321+01:00 0HN8EUFDOHN2D:00000013 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T15:58:04.0307418+01:00 0HN8EUFDOHN2D:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=bea5a202-566e-4dc6-9e92-54889c0dd1a1" - 200 19013 "application/pdf" 490.3097ms (74253ad3)
2024-11-27T15:59:09.4602784+01:00  [INF] User profile is available. Using '"C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-11-27T15:59:09.6638562+01:00  [INF] Now listening on: "https://localhost:7025" (d826f4b8)
2024-11-27T15:59:09.6639966+01:00  [INF] Now listening on: "http://localhost:5222" (d826f4b8)
2024-11-27T15:59:09.7001329+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-11-27T15:59:09.7004174+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-11-27T15:59:09.7004356+01:00  [INF] Content root path: "C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web" (cc26f24e)
2024-11-27T15:59:09.9793721+01:00 0HN8EUG640K9E:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - null null (d509f86a)
2024-11-27T15:59:10.0955057+01:00 0HN8EUG640K9E:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - 404 0 null 120.9305ms (74253ad3)
2024-11-27T15:59:10.0964374+01:00 0HN8EUG640K9E:00000001 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7025""""/index.html", Response status code: 404 (e353595a)
2024-11-27T15:59:15.3170288+01:00 0HN8EUG640K9F:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T15:59:15.3228916+01:00 0HN8EUG640K9F:00000001 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T15:59:15.3324920+01:00 0HN8EUG640K9F:00000001 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:59:15.4641134+01:00 0HN8EUG640K9F:00000001 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T15:59:15.4836964+01:00 0HN8EUG640K9F:00000001 [INF] Executed ViewResult - view "Acceuil" executed in 20.3896ms. (f66409e9)
2024-11-27T15:59:15.4840980+01:00 0HN8EUG640K9F:00000001 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 151.2801ms (afa2e885)
2024-11-27T15:59:15.4841664+01:00 0HN8EUG640K9F:00000001 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T15:59:15.4861339+01:00 0HN8EUG640K9F:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 169.3029ms (74253ad3)
2024-11-27T15:59:15.5046997+01:00 0HN8EUG640K9F:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/images/HCP1.jpeg""" - null null (d509f86a)
2024-11-27T15:59:15.5047626+01:00 0HN8EUG640K9F:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:59:15.5047008+01:00 0HN8EUG640K9F:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:59:15.5048115+01:00 0HN8EUG640K9F:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/Acceuil.css""" - null null (d509f86a)
2024-11-27T15:59:15.5272754+01:00 0HN8EUG640K9F:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 22.8031ms (74253ad3)
2024-11-27T15:59:15.5342659+01:00 0HN8EUG640K9F:00000003 [INF] Sending file. Request path: '"/css/Acceuil.css"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\css\Acceuil.css"' (27b0a520)
2024-11-27T15:59:15.5342737+01:00 0HN8EUG640K9F:00000007 [INF] Sending file. Request path: '"/images/HCP1.jpeg"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\images\HCP1.jpeg"' (27b0a520)
2024-11-27T15:59:15.5346272+01:00 0HN8EUG640K9F:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/Acceuil.css""" - 200 1366 "text/css" 30.2071ms (74253ad3)
2024-11-27T15:59:15.5346455+01:00 0HN8EUG640K9F:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/images/HCP1.jpeg""" - 200 13452 "image/jpeg" 30.1679ms (74253ad3)
2024-11-27T15:59:15.5483493+01:00 0HN8EUG640K9F:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 43.5024ms (74253ad3)
2024-11-27T15:59:15.6632774+01:00 0HN8EUG640K9F:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/favicon.ico""" - null null (d509f86a)
2024-11-27T15:59:15.6652913+01:00 0HN8EUG640K9F:0000000B [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\favicon.ico"' (27b0a520)
2024-11-27T15:59:15.6654945+01:00 0HN8EUG640K9F:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/favicon.ico""" - 200 5430 "image/x-icon" 2.6191ms (74253ad3)
2024-11-27T15:59:16.7703839+01:00 0HN8EUG640K9F:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T15:59:16.7802707+01:00 0HN8EUG640K9F:0000000D [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:59:16.7840519+01:00 0HN8EUG640K9F:0000000D [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:59:16.7918677+01:00 0HN8EUG640K9F:0000000D [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T15:59:16.7987466+01:00 0HN8EUG640K9F:0000000D [INF] Executed ViewResult - view "Login" executed in 7.5836ms. (f66409e9)
2024-11-27T15:59:16.7988863+01:00 0HN8EUG640K9F:0000000D [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 14.7388ms (afa2e885)
2024-11-27T15:59:16.7989376+01:00 0HN8EUG640K9F:0000000D [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:59:16.7991192+01:00 0HN8EUG640K9F:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 29.0514ms (74253ad3)
2024-11-27T15:59:16.8081290+01:00 0HN8EUG640K9F:0000000F [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/Login.css""" - null null (d509f86a)
2024-11-27T15:59:16.8084186+01:00 0HN8EUG640K9F:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T15:59:16.8084118+01:00 0HN8EUG640K9F:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T15:59:16.8090671+01:00 0HN8EUG640K9F:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 0.844ms (74253ad3)
2024-11-27T15:59:16.8100775+01:00 0HN8EUG640K9F:0000000F [INF] Sending file. Request path: '"/css/Login.css"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\css\Login.css"' (27b0a520)
2024-11-27T15:59:16.8104842+01:00 0HN8EUG640K9F:0000000F [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/Login.css""" - 200 1625 "text/css" 2.6168ms (74253ad3)
2024-11-27T15:59:16.8241331+01:00 0HN8EUG640K9F:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 15.8399ms (74253ad3)
2024-11-27T15:59:24.2854356+01:00 0HN8EUG640K9F:00000015 [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 47 (d509f86a)
2024-11-27T15:59:24.2903311+01:00 0HN8EUG640K9F:00000015 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T15:59:24.2985866+01:00 0HN8EUG640K9F:00000015 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:59:25.0682185+01:00 0HN8EUG640K9F:00000015 [INF] Executed DbCommand ("33"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T15:59:25.1336435+01:00 0HN8EUG640K9F:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T15:59:25.1371207+01:00 0HN8EUG640K9F:00000015 [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T15:59:25.1468714+01:00 0HN8EUG640K9F:00000015 [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T15:59:25.1474418+01:00 0HN8EUG640K9F:00000015 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 848.7928ms (afa2e885)
2024-11-27T15:59:25.1476300+01:00 0HN8EUG640K9F:00000015 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T15:59:25.1507322+01:00 0HN8EUG640K9F:00000017 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T15:59:25.1523283+01:00 0HN8EUG640K9F:00000015 [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 866.9804ms (74253ad3)
2024-11-27T15:59:25.1563362+01:00 0HN8EUG640K9F:00000017 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T15:59:25.1588636+01:00 0HN8EUG640K9F:00000017 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:59:25.2430755+01:00 0HN8EUG640K9F:00000017 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:59:25.2683629+01:00 0HN8EUG640K9F:00000017 [INF] Executed DbCommand ("14"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name], [t1].[Unites]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name], [p].[Unites]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T15:59:25.3701772+01:00 0HN8EUG640K9F:00000017 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T15:59:25.3817244+01:00 0HN8EUG640K9F:00000017 [INF] Executed ViewResult - view "DemandesListRequester" executed in 11.9003ms. (f66409e9)
2024-11-27T15:59:25.3821855+01:00 0HN8EUG640K9F:00000017 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 223.2628ms (afa2e885)
2024-11-27T15:59:25.3822203+01:00 0HN8EUG640K9F:00000017 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T15:59:25.3825703+01:00 0HN8EUG640K9F:00000017 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T15:59:25.3827384+01:00 0HN8EUG640K9F:00000017 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T15:59:25.3829321+01:00 0HN8EUG640K9F:00000017 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 232.5ms (74253ad3)
2024-11-27T15:59:25.3850829+01:00 0HN8EUG640K9F:00000019 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/css/DemandesListRequester.css""" - null null (d509f86a)
2024-11-27T15:59:25.3861642+01:00 0HN8EUG640K9F:00000019 [INF] Sending file. Request path: '"/css/DemandesListRequester.css"'. Physical path: '"C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web\wwwroot\css\DemandesListRequester.css"' (27b0a520)
2024-11-27T15:59:25.3863655+01:00 0HN8EUG640K9F:00000019 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/css/DemandesListRequester.css""" - 200 3142 "text/css" 1.5929ms (74253ad3)
2024-11-27T15:59:30.0082190+01:00 0HN8EUG640K9F:0000001B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=bea5a202-566e-4dc6-9e92-54889c0dd1a1" - null null (d509f86a)
2024-11-27T15:59:30.0103385+01:00 0HN8EUG640K9F:0000001B [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T15:59:30.0126722+01:00 0HN8EUG640K9F:0000001B [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T15:59:42.2857535+01:00 0HN8EUG640K9F:0000001B [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T15:59:42.3187077+01:00 0HN8EUG640K9F:0000001B [INF] Executed DbCommand ("23"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name], [t2].[Unites]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name], [p].[Unites]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T16:00:18.6403057+01:00 0HN8EUG640K9F:0000001B [INF] Executing "FileContentResult", sending file with download name '"Demande_3/2024.pdf"' ... (3ade02d2)
2024-11-27T16:00:18.6474519+01:00 0HN8EUG640K9F:0000001B [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 48634.6343ms (afa2e885)
2024-11-27T16:00:18.6475131+01:00 0HN8EUG640K9F:0000001B [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T16:00:18.6476957+01:00 0HN8EUG640K9F:0000001B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=bea5a202-566e-4dc6-9e92-54889c0dd1a1" - 200 19013 "application/pdf" 48639.4695ms (74253ad3)
2024-11-27T16:01:19.1253816+01:00  [INF] User profile is available. Using '"C:\Users\LENOVO\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2024-11-27T16:01:19.3610545+01:00  [INF] Now listening on: "https://localhost:7025" (d826f4b8)
2024-11-27T16:01:19.3612479+01:00  [INF] Now listening on: "http://localhost:5222" (d826f4b8)
2024-11-27T16:01:19.3935181+01:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2024-11-27T16:01:19.3939803+01:00  [INF] Hosting environment: "Development" (bc5a1a4e)
2024-11-27T16:01:19.3940276+01:00  [INF] Content root path: "C:\Users\LENOVO\Desktop\Project\EmployeeManagement.Web" (cc26f24e)
2024-11-27T16:01:20.0355558+01:00 0HN8EUHCSOKGM:00000001 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - null null (d509f86a)
2024-11-27T16:01:20.1610367+01:00 0HN8EUHCSOKGM:00000001 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/index.html""" - 404 0 null 134.1617ms (74253ad3)
2024-11-27T16:01:20.1620054+01:00 0HN8EUHCSOKGM:00000001 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: "GET" "https"://"localhost:7025""""/index.html", Response status code: 404 (e353595a)
2024-11-27T16:01:22.3025160+01:00 0HN8EUHCSOKGM:00000003 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - null null (d509f86a)
2024-11-27T16:01:22.3120467+01:00 0HN8EUHCSOKGM:00000003 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (500cc934)
2024-11-27T16:01:22.3204801+01:00 0HN8EUHCSOKGM:00000003 [INF] Route matched with "{action = \"Acceuil\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Acceuil()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T16:01:22.4128338+01:00 0HN8EUHCSOKGM:00000003 [INF] Executing ViewResult, running view "Acceuil". (c83d0e25)
2024-11-27T16:01:22.4365428+01:00 0HN8EUHCSOKGM:00000003 [INF] Executed ViewResult - view "Acceuil" executed in 24.6179ms. (f66409e9)
2024-11-27T16:01:22.4370674+01:00 0HN8EUHCSOKGM:00000003 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)" in 116.2515ms (afa2e885)
2024-11-27T16:01:22.4371463+01:00 0HN8EUHCSOKGM:00000003 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Acceuil (StockManagement.Web)"' (99874f2b)
2024-11-27T16:01:22.4393116+01:00 0HN8EUHCSOKGM:00000003 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees""" - 200 null "text/html; charset=utf-8" 136.7945ms (74253ad3)
2024-11-27T16:01:22.4733318+01:00 0HN8EUHCSOKGM:00000005 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T16:01:22.4737377+01:00 0HN8EUHCSOKGM:00000007 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T16:01:22.4881835+01:00 0HN8EUHCSOKGM:00000005 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 14.8382ms (74253ad3)
2024-11-27T16:01:22.5069200+01:00 0HN8EUHCSOKGM:00000007 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 33.372ms (74253ad3)
2024-11-27T16:01:23.1724636+01:00 0HN8EUHCSOKGM:00000009 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - null null (d509f86a)
2024-11-27T16:01:23.1772907+01:00 0HN8EUHCSOKGM:00000009 [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T16:01:23.1786679+01:00 0HN8EUHCSOKGM:00000009 [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T16:01:23.1828432+01:00 0HN8EUHCSOKGM:00000009 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2024-11-27T16:01:23.1869085+01:00 0HN8EUHCSOKGM:00000009 [INF] Executed ViewResult - view "Login" executed in 4.4817ms. (f66409e9)
2024-11-27T16:01:23.1870281+01:00 0HN8EUHCSOKGM:00000009 [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 8.3145ms (afa2e885)
2024-11-27T16:01:23.1870495+01:00 0HN8EUHCSOKGM:00000009 [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T16:01:23.1871411+01:00 0HN8EUHCSOKGM:00000009 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Employees/Login""" - 200 null "text/html; charset=utf-8" 15.1807ms (74253ad3)
2024-11-27T16:01:23.2083293+01:00 0HN8EUHCSOKGM:0000000B [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - null null (d509f86a)
2024-11-27T16:01:23.2094554+01:00 0HN8EUHCSOKGM:0000000B [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_framework/aspnetcore-browser-refresh.js""" - 200 13774 "application/javascript; charset=utf-8" 1.4905ms (74253ad3)
2024-11-27T16:01:23.2100804+01:00 0HN8EUHCSOKGM:0000000D [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - null null (d509f86a)
2024-11-27T16:01:23.2258782+01:00 0HN8EUHCSOKGM:0000000D [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 15.9354ms (74253ad3)
2024-11-27T16:01:23.9477408+01:00 0HN8EUHCSOKGM:0000000F [INF] Request starting "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - "application/x-www-form-urlencoded" 31 (d509f86a)
2024-11-27T16:01:23.9504186+01:00 0HN8EUHCSOKGM:0000000F [INF] Executing endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (500cc934)
2024-11-27T16:01:23.9614766+01:00 0HN8EUHCSOKGM:0000000F [INF] Route matched with "{action = \"Login\", controller = \"Employees\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(StockManagement.Application.Features.Models.Commands.LoginCommand)" on controller "StockManagement.Web.Controllers.EmployeesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T16:01:24.7774300+01:00 0HN8EUHCSOKGM:0000000F [INF] Executed DbCommand ("36"ms) [Parameters=["@__request_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__request_Username_0" (0723d8ff)
2024-11-27T16:01:24.8420696+01:00 0HN8EUHCSOKGM:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
WHERE [u].[Username] = @__model_Username_0" (0723d8ff)
2024-11-27T16:01:24.8457267+01:00 0HN8EUHCSOKGM:0000000F [INF] AuthenticationScheme: "Cookies" signed in. (c66dd7e7)
2024-11-27T16:01:24.8549935+01:00 0HN8EUHCSOKGM:0000000F [INF] Executing RedirectResult, redirecting to "/api/Demandes/GetListDemandesByUserId". (d98d540e)
2024-11-27T16:01:24.8554635+01:00 0HN8EUHCSOKGM:0000000F [INF] Executed action "StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)" in 893.9062ms (afa2e885)
2024-11-27T16:01:24.8556623+01:00 0HN8EUHCSOKGM:0000000F [INF] Executed endpoint '"StockManagement.Web.Controllers.EmployeesController.Login (StockManagement.Web)"' (99874f2b)
2024-11-27T16:01:24.8591201+01:00 0HN8EUHCSOKGM:0000000F [INF] Request finished "HTTP/2" "POST" "https"://"localhost:7025""""/api/Employees/login""" - 302 0 null 911.723ms (74253ad3)
2024-11-27T16:01:24.8595580+01:00 0HN8EUHCSOKGM:00000011 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - null null (d509f86a)
2024-11-27T16:01:24.8640740+01:00 0HN8EUHCSOKGM:00000011 [INF] Executing endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (500cc934)
2024-11-27T16:01:24.8669335+01:00 0HN8EUHCSOKGM:00000011 [INF] Route matched with "{action = \"GetListDemandesByUserId\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListDemandesByUserId()" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T16:01:24.9509945+01:00 0HN8EUHCSOKGM:00000011 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T16:01:24.9793136+01:00 0HN8EUHCSOKGM:00000011 [INF] Executed DbCommand ("16"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id], [u].[CreatedBy], [u].[CreatedDate], [u].[IsDeleted], [u].[ModifiedBy], [u].[ModifiedDate], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id], [u0].[CreatedBy], [u0].[CreatedDate], [u0].[Email], [u0].[IsDeleted], [u0].[ModifiedBy], [u0].[ModifiedDate], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId], [s].[Id], [s].[CreatedBy], [s].[CreatedDate], [s].[DivisionId], [s].[IsDeleted], [s].[ModifiedBy], [s].[ModifiedDate], [s].[Name], [d0].[Id], [d0].[CreatedBy], [d0].[CreatedDate], [d0].[DirectionId], [d0].[IsDeleted], [d0].[ModifiedBy], [d0].[ModifiedDate], [d0].[Name], [d1].[Id], [d1].[CreatedBy], [d1].[CreatedDate], [d1].[IsDeleted], [d1].[ModifiedBy], [d1].[ModifiedDate], [d1].[Name], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[Livré], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[ProduitId], [t1].[Quantité], [t1].[Id0], [t1].[CreatedBy0], [t1].[CreatedDate0], [t1].[IsDeleted0], [t1].[ModifiedBy0], [t1].[ModifiedDate0], [t1].[Name], [t1].[Unites]
FROM [Demandes] AS [d]
INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
OUTER APPLY (
    SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeId], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [d].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t]
    INNER JOIN [StatusDemandes] AS [s0] ON [t].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name], [p].[Unites]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t1] ON [d].[Id] = [t1].[DemandeId]
WHERE [d].[UserId] = @__request_Id_0
ORDER BY [d].[Id], [u].[Id], [u0].[Id], [s].[Id], [d0].[Id], [d1].[Id], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t1].[Id]" (0723d8ff)
2024-11-27T16:01:25.0800937+01:00 0HN8EUHCSOKGM:00000011 [INF] Executing ViewResult, running view "DemandesListRequester". (c83d0e25)
2024-11-27T16:01:25.0915367+01:00 0HN8EUHCSOKGM:00000011 [INF] Executed ViewResult - view "DemandesListRequester" executed in 11.7329ms. (f66409e9)
2024-11-27T16:01:25.0925126+01:00 0HN8EUHCSOKGM:00000011 [INF] Executed action "DemandesController.GetListDemandesByUserId (StockManagement.Web)" in 225.5052ms (afa2e885)
2024-11-27T16:01:25.0925712+01:00 0HN8EUHCSOKGM:00000011 [INF] Executed endpoint '"DemandesController.GetListDemandesByUserId (StockManagement.Web)"' (99874f2b)
2024-11-27T16:01:25.0930433+01:00 0HN8EUHCSOKGM:00000011 [WRN] Unable to configure Browser Link script injection on the response.  (ece93296)
2024-11-27T16:01:25.0933081+01:00 0HN8EUHCSOKGM:00000011 [WRN] Unable to configure browser refresh script injection on the response. Consider manually adding '<script src="/_framework/aspnetcore-browser-refresh.js"></script>' to the body of the page. (5302a7e1)
2024-11-27T16:01:25.0936085+01:00 0HN8EUHCSOKGM:00000011 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes/GetListDemandesByUserId""" - 200 null "text/html; charset=utf-8" 234.0868ms (74253ad3)
2024-11-27T16:01:25.9845357+01:00 0HN8EUHCSOKGM:00000013 [INF] Request starting "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - null null (d509f86a)
2024-11-27T16:01:25.9864113+01:00 0HN8EUHCSOKGM:00000013 [INF] Executing endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (500cc934)
2024-11-27T16:01:25.9887453+01:00 0HN8EUHCSOKGM:00000013 [INF] Route matched with "{action = \"ExportDemandeToPdf\", controller = \"Demandes\", page = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExportDemandeToPdf(System.Guid)" on controller "DemandesController" ("StockManagement.Web"). (122b2fdf)
2024-11-27T16:01:29.9990809+01:00 0HN8EUHCSOKGM:00000013 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. (4c53259e)
2024-11-27T16:01:30.0164958+01:00 0HN8EUHCSOKGM:00000013 [INF] Executed DbCommand ("9"ms) [Parameters=["@__request_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CreatedBy], [t].[CreatedDate], [t].[DemandeNumber], [t].[IsDeleted], [t].[ModifiedBy], [t].[ModifiedDate], [t].[UserId], [t].[Id0], [t].[CreatedBy0], [t].[CreatedDate0], [t].[IsDeleted0], [t].[ModifiedBy0], [t].[ModifiedDate0], [t].[PasswordHash], [t].[RoleId], [t].[Username], [t].[Id1], [t].[CreatedBy1], [t].[CreatedDate1], [t].[Email], [t].[IsDeleted1], [t].[ModifiedBy1], [t].[ModifiedDate1], [t].[Nom], [t].[Prenom], [t].[ServiceId], [t].[UserId0], [t].[Id2], [t].[CreatedBy2], [t].[CreatedDate2], [t].[DivisionId], [t].[IsDeleted2], [t].[ModifiedBy2], [t].[ModifiedDate2], [t].[Name], [t].[Id3], [t].[CreatedBy3], [t].[CreatedDate3], [t].[DirectionId], [t].[IsDeleted3], [t].[ModifiedBy3], [t].[ModifiedDate3], [t].[Name0], [t].[Id4], [t].[CreatedBy4], [t].[CreatedDate4], [t].[IsDeleted4], [t].[ModifiedBy4], [t].[ModifiedDate4], [t].[Name1], [t0].[Id], [t0].[CreatedBy], [t0].[CreatedDate], [t0].[DemandeId], [t0].[IsDeleted], [t0].[ModifiedBy], [t0].[ModifiedDate], [t0].[StatusDemandeId], [t0].[Id0], [t0].[CreatedBy0], [t0].[CreatedDate0], [t0].[IsDeleted0], [t0].[ModifiedBy0], [t0].[ModifiedDate0], [t0].[StatusName], [t2].[Id], [t2].[CreatedBy], [t2].[CreatedDate], [t2].[DemandeId], [t2].[IsDeleted], [t2].[Livré], [t2].[ModifiedBy], [t2].[ModifiedDate], [t2].[ProduitId], [t2].[Quantité], [t2].[Id0], [t2].[CreatedBy0], [t2].[CreatedDate0], [t2].[IsDeleted0], [t2].[ModifiedBy0], [t2].[ModifiedDate0], [t2].[Name], [t2].[Unites]
FROM (
    SELECT TOP(1) [d].[Id], [d].[CreatedBy], [d].[CreatedDate], [d].[DemandeNumber], [d].[IsDeleted], [d].[ModifiedBy], [d].[ModifiedDate], [d].[UserId], [u].[Id] AS [Id0], [u].[CreatedBy] AS [CreatedBy0], [u].[CreatedDate] AS [CreatedDate0], [u].[IsDeleted] AS [IsDeleted0], [u].[ModifiedBy] AS [ModifiedBy0], [u].[ModifiedDate] AS [ModifiedDate0], [u].[PasswordHash], [u].[RoleId], [u].[Username], [u0].[Id] AS [Id1], [u0].[CreatedBy] AS [CreatedBy1], [u0].[CreatedDate] AS [CreatedDate1], [u0].[Email], [u0].[IsDeleted] AS [IsDeleted1], [u0].[ModifiedBy] AS [ModifiedBy1], [u0].[ModifiedDate] AS [ModifiedDate1], [u0].[Nom], [u0].[Prenom], [u0].[ServiceId], [u0].[UserId] AS [UserId0], [s].[Id] AS [Id2], [s].[CreatedBy] AS [CreatedBy2], [s].[CreatedDate] AS [CreatedDate2], [s].[DivisionId], [s].[IsDeleted] AS [IsDeleted2], [s].[ModifiedBy] AS [ModifiedBy2], [s].[ModifiedDate] AS [ModifiedDate2], [s].[Name], [d0].[Id] AS [Id3], [d0].[CreatedBy] AS [CreatedBy3], [d0].[CreatedDate] AS [CreatedDate3], [d0].[DirectionId], [d0].[IsDeleted] AS [IsDeleted3], [d0].[ModifiedBy] AS [ModifiedBy3], [d0].[ModifiedDate] AS [ModifiedDate3], [d0].[Name] AS [Name0], [d1].[Id] AS [Id4], [d1].[CreatedBy] AS [CreatedBy4], [d1].[CreatedDate] AS [CreatedDate4], [d1].[IsDeleted] AS [IsDeleted4], [d1].[ModifiedBy] AS [ModifiedBy4], [d1].[ModifiedDate] AS [ModifiedDate4], [d1].[Name] AS [Name1]
    FROM [Demandes] AS [d]
    INNER JOIN [Users] AS [u] ON [d].[UserId] = [u].[Id]
    LEFT JOIN [UserDetails] AS [u0] ON [u].[Id] = [u0].[UserId]
    LEFT JOIN [Services] AS [s] ON [u0].[ServiceId] = [s].[Id]
    LEFT JOIN [Divisions] AS [d0] ON [s].[DivisionId] = [d0].[Id]
    LEFT JOIN [Directions] AS [d1] ON [d0].[DirectionId] = [d1].[Id]
    WHERE [d].[Id] = @__request_Id_0
) AS [t]
OUTER APPLY (
    SELECT [t1].[Id], [t1].[CreatedBy], [t1].[CreatedDate], [t1].[DemandeId], [t1].[IsDeleted], [t1].[ModifiedBy], [t1].[ModifiedDate], [t1].[StatusDemandeId], [s0].[Id] AS [Id0], [s0].[CreatedBy] AS [CreatedBy0], [s0].[CreatedDate] AS [CreatedDate0], [s0].[IsDeleted] AS [IsDeleted0], [s0].[ModifiedBy] AS [ModifiedBy0], [s0].[ModifiedDate] AS [ModifiedDate0], [s0].[StatusName]
    FROM (
        SELECT TOP(1) [h].[Id], [h].[CreatedBy], [h].[CreatedDate], [h].[DemandeId], [h].[IsDeleted], [h].[ModifiedBy], [h].[ModifiedDate], [h].[StatusDemandeId]
        FROM [HistoriqueStatusDemandes] AS [h]
        WHERE [t].[Id] = [h].[DemandeId]
        ORDER BY [h].[CreatedDate] DESC
    ) AS [t1]
    INNER JOIN [StatusDemandes] AS [s0] ON [t1].[StatusDemandeId] = [s0].[Id]
) AS [t0]
LEFT JOIN (
    SELECT [d2].[Id], [d2].[CreatedBy], [d2].[CreatedDate], [d2].[DemandeId], [d2].[IsDeleted], [d2].[Livré], [d2].[ModifiedBy], [d2].[ModifiedDate], [d2].[ProduitId], [d2].[Quantité], [p].[Id] AS [Id0], [p].[CreatedBy] AS [CreatedBy0], [p].[CreatedDate] AS [CreatedDate0], [p].[IsDeleted] AS [IsDeleted0], [p].[ModifiedBy] AS [ModifiedBy0], [p].[ModifiedDate] AS [ModifiedDate0], [p].[Name], [p].[Unites]
    FROM [DemandeProduits] AS [d2]
    INNER JOIN [Produits] AS [p] ON [d2].[ProduitId] = [p].[Id]
) AS [t2] ON [t].[Id] = [t2].[DemandeId]
ORDER BY [t].[Id], [t].[Id0], [t].[Id1], [t].[Id2], [t].[Id3], [t].[Id4], [t0].[CreatedDate] DESC, [t0].[Id], [t0].[Id0], [t2].[Id]" (0723d8ff)
2024-11-27T16:01:30.4196408+01:00 0HN8EUHCSOKGM:00000013 [INF] Executing "FileContentResult", sending file with download name '"Demande_1/2024.pdf"' ... (3ade02d2)
2024-11-27T16:01:30.4260210+01:00 0HN8EUHCSOKGM:00000013 [INF] Executed action "DemandesController.ExportDemandeToPdf (StockManagement.Web)" in 4437.1897ms (afa2e885)
2024-11-27T16:01:30.4260895+01:00 0HN8EUHCSOKGM:00000013 [INF] Executed endpoint '"DemandesController.ExportDemandeToPdf (StockManagement.Web)"' (99874f2b)
2024-11-27T16:01:30.4263006+01:00 0HN8EUHCSOKGM:00000013 [INF] Request finished "HTTP/2" "GET" "https"://"localhost:7025""""/api/Demandes""?demandeId=80520b9b-2f72-48dd-959e-614c24303042" - 200 18334 "application/pdf" 4441.7968ms (74253ad3)
